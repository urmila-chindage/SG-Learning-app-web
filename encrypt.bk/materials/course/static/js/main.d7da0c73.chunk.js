(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){},107:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){},117:function(e,t,a){},119:function(e,t,a){},121:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(42),c=a.n(s),i=(a(63),a(65),a(67),a(69),a(3)),o=a(4),l=a(6),u=a(5),d=a(7),p=a(127),m=a(129),h=a(125),v=a(128),f="TOGGLE_CURRICULUM",g="SET_MENU_OPEN",y=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bbd+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t},b=a(1),w=(a(71),a(8)),E=a(126),L=a(45),O=a.n(L),_={},S=Object({NODE_ENV:"production",PUBLIC_URL:"/materials/course",REACT_APP_BUILD_VER:"2020_03_27"}).REACT_APP_LOCAL_URL,N=S||window.location.protocol+"//"+window.location.host;_.apiUrl=_.apiUrl?_.apiUrl:N;var k=_,j=new URLSearchParams(window.location.search).get("token");j=j||localStorage.getItem("token");var I={baseURL:k.apiUrl,crossDomain:!0};j&&(I.headers={"x-api-key":j});var H=O.a.create(I),T=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"curriculam-head"},n.a.createElement("span",{className:"curriculam-head-title"},"Course curriculum"),n.a.createElement("span",{onClick:this.props.onCurriculumToggle,className:"close-icon"}))}}]),t}(r.Component),P=Object(w.b)(null,function(e){return{onCurriculumToggle:function(){return e({type:f})}}})(T),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n))))._handleClick=function(){a.props.onSectionToggle(a.props.sectionId)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{onClick:this._handleClick,className:"curriculam-title curriculam-accordion"},n.a.createElement("h4",null,this.props.sectionName))}}]),t}(r.Component),x=Object(w.b)(null,function(e){return{onSectionToggle:function(t){return e({type:"TOGGLE_SECTION",payload:{sectionId:t}})}}})(C),A=a(124),D=function(e){return e.children},U=a(46),M=a.n(U),R=a(17),q=a.n(R),G=a(21),z=a(9),W={},F=function(e){var t=parseInt(e,10),a=Math.floor(t/3600),r=Math.floor((t-3600*a)/60),n=t-3600*a-60*r;return a<10&&(a="0"+a),r<10&&(r="0"+r),n<10&&(n="0"+n),parseInt(a)>0?a+":"+r+":"+n:r+":"+n};function J(){var e=document.documentElement;(e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen).call(e)}function B(){var e=document;(e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen).call(e)}var Q=function(e,t,a){return window.location=t?"/".concat(a):"/course/dashboard/".concat(e)},V=function(){return window.location="/dashboard"};function Y(){for(var e=0;e<W.lectureData.length;e++){var t=W.lectureData[e];window.lecure_logs[t.lecture_id]&&(W.lectureData[e].views+=window.lecure_logs[t.lecture_id].views,delete window.lecure_logs[t.lecture_id])}var a=Object.values(window.lecure_logs);W.lectureData=Object(z.a)(W.lectureData).concat(Object(z.a)(a)),window.lecure_logs={};var r={header:{method:"update_percentage"},body:{course_id:W.courseId,subscriber_id:W.subscriptionId,course_percentage:W.percentage,last_played:W.lectureId,lecture_data:W.lectureData,lectureType:W.lectureType,lectureName:W.lectureName}};if(!W.isPreview)return"serviceWorker"in window.navigator?(window.navigator.serviceWorker.ready.then(function(e){e.active.postMessage({type:"save",save:JSON.stringify(r),saveUrl:k.apiUrl+"/content"})}).catch(console.log),Promise.resolve()):fetch(k.apiUrl+"/content",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json, text/plain, */*"},body:JSON.stringify(r),keepalive:!0})}function Z(){return document.querySelector(".root-load").classList.add("hidden")}var X=function(e){var t,a=new Date(e),r=a.getDate(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()],s=a.getFullYear(),c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a.getDay()],i="".concat(r," ").concat(n," ").concat(s,", ").concat(c),o=function(){if(12===a.getHours())return t="PM","".concat(a.getHours());if(a.getHours()>12){t="PM";var e=a.getHours();return"".concat(e-12)}return t="AM","".concat(a.getHours())}(),l=("0"+a.getMinutes()).slice(-2);return i+" "+"".concat(o.length<2?"0"+o:o,":").concat(l," ").concat(t)},K=function(e){var t=e.studentLog,a=e.overrides,r=e.userDetails,n={canplay:!0,reason:[],batchOverride:{start:!1,end:!1,both:!1,attempts:!1}},s=a[t.lecture_id];try{for(var c=JSON.parse(r),i={startDiff:0,endDiff:0,lo_attempts:0},o=function(e){var a=s[e],r=c.us_batches.split(","),n=a.lo_override_batches.split(",").filter(function(e){return r.indexOf(e)>-1});if(+t.lecture_id===+a.lo_lecture_id&&n.length>0){var o=0,l=0,u=new Date;if(a.lo_start_date&&a.lo_start_time){var d=a.lo_start_time.split(" "),p=d[0].trim(),m=p;if("PM"===d[1].trim()){var h=p.split(":"),v=parseInt(h[0]);m=v<12?"".concat(v+12,":").concat(h[1]):m}var f="".concat(a.lo_start_date,"T").concat(m,":00");(o=new Date(f)-u)>0&&(o<i.startDiff||0===i.startDiff)&&(i=Object(b.a)({},a,{startDiff:o,startDateTime:f}))}if(a.lo_end_date&&a.lo_end_time){var g=a.lo_end_time.replace(/pm/," PM").replace(/am/," AM").split(" "),y=g[0].trim(),w=y;if("PM"===g[1].trim()){var E=y.split(":"),L=parseInt(E[0]);w=L<12?"".concat(L+12,":").concat(E[1]):w}var O="".concat(a.lo_end_date,"T").concat(w,":00"),_=new Date(O),S=null;switch(parseInt(a.lo_period_type)){case 1:S=_.getTime()+864e5*parseInt(a.lo_period);break;case 2:S=_.getTime()+36e5*parseInt(a.lo_period);break;case 3:S=_.getTime()+6e4*parseInt(a.lo_period)}O=S||O,(l=(_=new Date(O))-u)<0&&(l>i.endDiff||0===i.endDiff)&&(i=Object(b.a)({},a,{endDiff:l,endDateTime:O}))}o<0&&l>0&&(i=Object(b.a)({},a,{startDiff:o,endDiff:l}))}},l=0;l<s.length;l++)o(l);if(i.startDiff>0?(n.canplay=!1,n.batchOverride.start=!0,n.reason.push("You can view this lecture after "+X(i.startDateTime))):i.endDiff<0?(n.canplay=!1,n.batchOverride.end=!0,n.reason.push("This lecture can be viewed until "+X(i.endDateTime))):i.startDiff<0&&i.endDiff>0&&(n.batchOverride.both=!0),0!==parseInt(i.lo_attempts)&&t.lecture_id>0&&"undefined"!=typeof t.log[t.lecture_id]){var u=t.log[t.lecture_id];(u.nviews?u.nviews:u.views)>=i.lo_attempts&&(n.canplay=!1,n.batchOverride.attempts=!0,n.reason.push("You have completed maximum attempts of this lecture"))}return n}catch(d){return console.log(d),n}},$=function(e){var t=e.studentLog,a=e.access,r=e.pointableLectures,n={canplay:!0,reason:[]};if(!t.batchOverride.attempts&&"undefined"!=typeof t.log[t.lecture_id]){var s=t.log[t.lecture_id],c=+a.access_limit,i=s.nviews?s.nviews:s.views;if(0!==c&&i>=c)return n.canplay=!1,n.reason.push("You have completed maximum views ("+c+"/"+c+") of this lecture"),n}var o=a.course_percentage;if("undefined"!==typeof o&&1===+o.active&&parseInt(o.percentage)>parseInt(t.overall_percentage)&&(n.canplay=!1,n.reason.push("You have to complete "+o.percentage+"% of this course")),!t.batchOverride.start&&!t.batchOverride.both){var l=a.available_from;if("undefined"!==typeof l&&1===+l.active){var u=l.timestamp.split(" "),d=u[0].split("-"),p="".concat(d[2],"-").concat(d[0],"-").concat(d[1],"T").concat(u[1]);new Date(p)>new Date&&(n.canplay=!1,n.reason.push("You can view this lecture after "+X(p)))}}if(!t.batchOverride.end&&!t.batchOverride.both){var m=a.available_till;if("undefined"!==typeof m&&1===+m.active){var h=m.timestamp.split(" "),v=h[0].split("-"),f="".concat(v[2],"-").concat(v[0],"-").concat(v[1],"T").concat(h[1]);new Date(f)<new Date&&(n.canplay=!1,n.reason.push("This lecture can be viewed until "+X(f)))}}if("undefined"!==typeof a.activities&&Object.keys(a.activities).length>0){var g=!1,y={canplay:!0,reason:[]};for(var b in"anyone"===a.verify&&y.reason.push("Please complete any one of the following:"),a.activities){if(a.activities.hasOwnProperty(b)){var w=a.activities[b],E="undefined"!=typeof t.log[w.lecture_id]?t.log[w.lecture_id]:null;switch(w.action){case"complete_with_percentage":null===E||"undefined"==typeof E.percentage_of_marks||E.percentage_of_marks<w.percentage?"undefined"!==typeof r[+w.lecture_id]&&(y.canplay=!1,y.reason.push("You need "+w.percentage+" percentage of marks for <b>lecture named "+r[+w.lecture_id].cl_lecture_name+"</b>")):g=!0;break;case"complete":var L=0;E&&(L=E.nviews?E.nviews:E.views),null===E||"undefined"==typeof L||+L<1?"undefined"!==typeof r[+w.lecture_id]&&(y.canplay=!1,y.reason.push("You need to complete <b>lecture named "+r[+w.lecture_id].cl_lecture_name+"</b>")):g=!0}}if(!0===g&&"anyone"===a.verify)break}g&&"anyone"===a.verify||(n.canplay=n.canplay&&y.canplay,n.reason=Object(z.a)(n.reason).concat(Object(z.a)(y.reason)))}return n};function ee(){var e=window.navigator.userAgent.toLowerCase(),t=/iphone|ipod|ipad/.test(e),a=window.navigator.standalone,r=/safari/.test(e),n=!1;return window.webkit&&window.webkit.messageHandlers&&(n=!0),t&&!a&&!r&&n}function te(){return(te=Object(G.a)(q.a.mark(function e(){return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y();case 3:window.webkit.messageHandlers.doStuffMessageHandler.postMessage({action:"exit"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}))).apply(this,arguments)}function ae(e){return window.webkit.messageHandlers.doStuffMessageHandler.postMessage({action:"downloadfile",file_url:e})}var re=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.currLecId!==this.props.currLecId){var t=document.querySelector(".active-timeline");t&&t.scrollIntoView()}}},{key:"render",value:function(){var e=null,t=null;this.props.locked?t=n.a.createElement("p",{className:"curriculam-info-duration text-right"},n.a.createElement("img",{src:M.a,alt:"Locked",width:"20",title:"Locked"})):parseInt(this.props.duration)&&(t=n.a.createElement("p",{className:"curriculam-info-duration text-right",title:"Duration"},F(this.props.duration))),this.props.first||this.props.last?(this.props.last&&!this.props.first&&(e=n.a.createElement("div",{className:"tail-up"})),this.props.first&&!this.props.last&&(e=n.a.createElement("div",{className:"tail-down"}))):e=n.a.createElement(D,null,n.a.createElement("div",{className:"tail-up"}),n.a.createElement("div",{className:"tail-down"}));var a=["timeline-row"],r={1:"video",2:"document",3:"quiz",4:"video",5:"document",7:"video",8:"assignment",9:"video",10:"drop",11:"video",12:"audio",14:"certificate"}[this.props.type];this.props.attempts>0||this.props.percentage>99?(a[a.length]="completed-curriculam",r+="-green"):0===this.props.percentage&&0===this.props.percentage?r+="-grey":r+="-blue";var s=["milestone-icon",r];return+this.props.currLecId===+this.props.lectureId&&(a[a.length]="active-timeline"),n.a.createElement("div",{className:a.join(" ")},n.a.createElement(A.a,{to:"/".concat(this.props.courseId,"/").concat(this.props.lectureId)},n.a.createElement("span",{className:"curriculam-progress",style:{width:this.props.percentage+"%"}}),n.a.createElement("div",{className:"milestone-holder"},n.a.createElement("span",{className:"milestone"},this.props.attempts>0||this.props.percentage>99?n.a.createElement("span",{className:"ticked"}):null,n.a.createElement("span",{className:s.join(" ")})),e),n.a.createElement("div",{className:"timeline-text text-justify"},n.a.createElement("p",{className:"curriculam-info-text"},this.props.lectureName),t,0===+this.props.totalAttempts||this.props.locked?null:n.a.createElement("p",{className:"curriculam-info-view text-right orange-text"},n.a.createElement("span",{className:"orange-eye"})," ",this.props.attempts," / ",this.props.totalAttempts))))}}]),t}(r.Component),ne=Object(w.b)(function(e){return{currLecId:e.currLecId,isPreview:e.isPreview}},null)(Object(v.a)(re)),se=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={lectures:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({lectures:this.props.lectures})}},{key:"componentDidUpdate",value:function(){this.mounted&&!this.state.lectures.length&&this.props.lectures.length&&this.setState({lectures:this.props.lectures})}},{key:"componentWillReceiveProps",value:function(){this.mounted&&this.setState({lectures:this.props.lectures})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=null;if(this.state.lectures.length){var a=0;this.state.lectures.map(function(e){return 13!==+e.cl_lecture_type&&(a=+e.id),e});var r=0;t=this.state.lectures.map(function(t,s){if(13!==+t.cl_lecture_type){r++;var c=!1,i={canplay:!0,reason:[]},o={canplay:!0,reason:[]};return e.props.override[t.id]&&e.props.override[t.id].length>0&&(i=K({studentLog:Object(b.a)({},e.props.lectureLog,{lecture_id:t.id}),overrides:e.props.override,userDetails:e.props.config.user_details})),(t.cl_access_restriction||+t.cl_limited_access)&&e.props.lectureLog&&(o=$({studentLog:Object(b.a)({},e.props.lectureLog,{lecture_id:t.id,batchOverride:Object(b.a)({},i.batchOverride)}),access:Object(b.a)({},JSON.parse(t.cl_access_restriction),{access_limit:t.cl_limited_access}),pointableLectures:Object(b.a)({},e.props.pointableLectures)})),i.canplay&&o.canplay||(c=!0),[3,8,10,14].indexOf(+t.cl_lecture_type)>-1&&e.props.isPreview&&(c=!0),n.a.createElement(ne,{key:t.id,first:1===r,last:a===+t.id,lectureName:t.cl_lecture_name,lectureId:t.id,type:t.cl_lecture_type,totalAttempts:t.cl_limited_access,attempts:t.views,percentage:t.percentage,courseId:e.props.courseId,locked:c,duration:t.cl_duration})}return null})}return n.a.createElement("div",{className:this.props.collapsed?"curriculam-collapse":"curriculam"},t)}}]),t}(r.Component),ce=Object(w.b)(function(e){return{config:e.config,lectureLog:e.lectureLog,override:e.override,pointableLectures:e.pointableLectures,isPreview:e.isPreview}})(Object(v.a)(se)),ie=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=null,a.previewTimerObj=null,a.savePreviewTime=function(){var e={header:{service:"",method:"save_course_preview_time"},body:{course_id:a.props.match.params.courseId}};return H.post("/content",JSON.stringify(e),{withCredentials:!0}).then(function(t){if(!t.data)return console.log("exit => ","No response ",e,t),Q(a.props.match.params.courseId,a.props.isPreview,a.props.courseSlug);if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",e,t.data),Q(a.props.match.params.courseId,a.props.isPreview,a.props.courseSlug)}else;return t})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.props.currList){console.log(Z());var e=!1;try{var t=localStorage.getItem("resume_id");e=(e=!!t&&JSON.parse(t))instanceof Object&&e}catch(g){e=!1}var a=this.props.currList;if(0===a.curriculum.sections.length)return console.log("exit => ","No curriculum sections found ",a),Q(this.props.match.params.courseId,this.props.isPreview,this.props.courseSlug);if(!a.curriculum.subscription){if(!(this.props.previewEnabled&&this.props.previewTimer>0))return console.log("exit => ","Preview expired/disabled or not subscribed ",a),Q(this.props.match.params.courseId,this.props.isPreview,this.props.courseSlug);this.props.setPreview();var r=new Date(Date.now()+864e5),n=r.getMonth()+1,s=r.getFullYear()+"-"+(n<10?"0".concat(n):n)+"-"+r.getDate();a.curriculum.subscription={id:!0,cs_course_id:this.props.match.params.courseId,cs_percentage:"0",cs_lecture_log:"",cs_last_played_lecture:"",cs_end_date:s}}if((a.curriculum.subscription.cs_end_date?new Date("".concat(a.curriculum.subscription.cs_end_date,"T23:55:00")).getTime():0)<Date.now())return console.log("exit => ","Subscription ended ",a),Q(this.props.match.params.courseId,this.props.isPreview,this.props.courseSlug);if(0===+a.curriculum.subscription.cs_approved)return console.log("exit => ","Subscription not approved ",a),Q(this.props.match.params.courseId,this.props.isPreview,this.props.courseSlug);this.props.match.params.lectureId&&(a.curriculum.subscription.cs_last_played_lecture=this.props.match.params.lectureId);var c,i=Object(b.a)({},a.curriculum.sections),o=!1;for(var l in i)if(i.hasOwnProperty(l))for(var u in!c&&i[l].s_lectures.length>0&&(c=+i[l].s_lectures[0].id),i[l].s_lectures)("undefined"!==typeof this.props.match.params.lectureId&&+i[l].s_lectures[u].id===+this.props.match.params.lectureId||0!==+a.curriculum.subscription.cs_last_played_lecture&&+i[l].s_lectures[u].id===+a.curriculum.subscription.cs_last_played_lecture||0===+a.curriculum.subscription.cs_last_played_lecture)&&(o=!0);o||(a.curriculum.subscription.cs_last_played_lecture=c);var d=a,p=this.props.match.params.tab,m=this.props.match.params.courseId,h={};try{h=JSON.parse(this.props.userDetails)}catch(g){console.log(g)}var v="cid_".concat(h.id,"_").concat(m);if("resume"===p&&e&&e[v]){d.curriculum.subscription.cs_last_played_lecture=e[v];var f="/".concat(m,"/").concat(e[v]);this.props.history.replace(f)}(e=e||{})[v]=+this.props.match.params.lectureId,localStorage.setItem("resume_id",JSON.stringify(e)),this.props.onCurriculumSet(Object(b.a)({},d))}}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.mounted&&e.isPreview!==this.props.isPreview&&(console.log(this.props.isPreview),this.props.isPreview&&(this.previewTimerObj=setInterval(function(){a.props.setPreviewTime(!1),a.props.previewTimer%5!==0&&3!==a.props.previewTimer||a.savePreviewTime().catch(function(e){return console.log("exit => ","error: ",e),Q(a.props.match.params.courseId,a.props.isPreview,a.props.courseSlug)})},1e3)))}},{key:"render",value:function(){var e=this,t=this.props.currLoaded?this.props.curriculum:[];t=t.map(function(t,a){return t.id===e.props.currentSectionId&&(t.open=!0),n.a.createElement(D,{key:a},t.lectureCount?n.a.createElement(x,{key:a,sectionId:t.id,sectionName:t.s_name}):null,n.a.createElement(ce,{courseId:e.props.subscription.cs_course_id,collapsed:!t.open,currentLectureId:e.props.currentLectureId,lectures:t.s_lectures}))});var a=n.a.createElement("div",{className:"curriculam-wrapper"},n.a.createElement(P,null),n.a.createElement("div",{className:"curriculam-container"},t)),r="/".concat(this.props.match.params.courseId,"/").concat(this.props.currentLectureId);return this.mounted&&!+this.props.match.params.lectureId&&-1===window.location.href.indexOf(r)&&(a=n.a.createElement(E.a,{to:r})),a}}]),t}(r.Component),oe=Object(w.b)(function(e){return{curriculum:e.curriculum,currLoaded:e.curriculumLoaded,currentLectureId:e.currLecId,currentSectionId:e.currSecId,subscription:e.subscription?e.subscription:null,isPreview:e.isPreview,previewEnabled:e.previewEnabled,previewTimer:e.previewTimer,courseSlug:e.course.cb_slug,userDetails:e.config.user_details}},function(e){return{setPreview:function(){return e({type:"SET_PREVIEW"})},onCurriculumSet:function(t){return e({type:"SET_CURRICULUM",payload:{data:t}})},setPreviewTime:function(t){return e({type:"SET_PREVIEWTIME",payload:t})}}})(Object(v.a)(ie)),le=a(48),ue=a.n(le),de=a(49),pe=(a(41),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={currLecture:null,currLectureId:0},a.curriculumToggleHandler=function(){a.props.onCurriculumToggle()},a.discussionToggleHandler=function(){a.props.onDiscussionToggle()},a.backToDashboard=function(){if(!y())return Q(a.props.course.id,a.props.isPreview,a.props.courseSlug);a.props.menuOpenFn()},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.props.currLecture&&+this.props.currLecture.id!==+this.state.currLectureId&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id}),this.props.mouseLeaveHandler()}},{key:"componentDidUpdate",value:function(){this.mounted=!0,this.mounted&&"undefined"!==typeof this.props.currLecture.id&&+this.props.currLecture.id!==+this.state.currLectureId&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentWillReceiveProps",value:function(e){this.props.swipeEvent!==e.swipeEvent&&(e.swipeEvent?this.props.mouseEnterHandler():this.props.mouseLeaveHandler())}},{key:"render",value:function(){return n.a.createElement("div",{className:"nav-container",onMouseEnter:this.props.mouseEnterHandler,onMouseLeave:this.props.mouseLeaveHandler},n.a.createElement("div",{className:"nav-header dark-header",style:{opacity:this.props.opacity,visibility:this.props.opacity?"visible":"hidden"}},n.a.createElement("div",{className:"menu-icon"},n.a.createElement("span",{className:"menu",onClick:this.curriculumToggleHandler})),n.a.createElement("div",{className:"text-left contenttitle"},n.a.createElement("span",{className:"lecture-title"},this.state.currLecture?this.state.currLecture.cl_lecture_name:null),n.a.createElement("div",{className:"curriculam-index"},n.a.createElement("span",null,"Section : ",this.state.currLecture?this.state.currLecture.sNumber:null," \xa0"),n.a.createElement("span",null,"Lecture : ",this.state.currLecture?this.state.currLecture.lNumber:null))),n.a.createElement("div",{className:"text-right ask-wrapper"},n.a.createElement("span",{title:"Back to course dashboard.",className:"close-icon",onClick:this.backToDashboard}))))}}]),t}(r.Component)),me=Object(w.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,course:e.course,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onCurriculumToggle:function(){return e({type:f})},onDiscussionToggle:function(){return e({type:"TOGGLE_DISCUSSION"})},menuOpenFn:function(){return e({type:g,payload:!0})}}})(pe),he=a(16),ve=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).mounted=!1,a.state={materialUrl:""},a._handleDownload=function(e,t){ee()&&(t.preventDefault(),ae(e))},a._handleClick=function(){a.props.onShowList()},a._listDocs=function(e,t){var r=e.map(function(e,t){var r=a.state.materialUrl.replace("{file}",e.file_raw_name),s=e.file_name.split(".");s.pop();var c=s.join("");return n.a.createElement("li",{key:t},n.a.createElement("a",{href:r,onClick:a._handleDownload.bind(Object(he.a)(Object(he.a)(a)),r),download:c,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("span",{className:"download-file-label"},e.file_name),n.a.createElement("span",{className:"download-icon"},n.a.createElement("span",{className:"download-icon-label"},"Download  "),n.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("rect",{fill:"none",id:"canvas_background",height:"402",width:"582",y:"-1",x:"-1"})),n.a.createElement("g",null,n.a.createElement("path",{id:"svg_1",d:"m11,14.59l0,-11.59a1,1 0 0 1 2,0l0,11.59l3.3,-3.3a1,1 0 0 1 1.4,1.42l-5,5a1,1 0 0 1 -1.4,0l-5,-5a1,1 0 0 1 1.4,-1.42l3.3,3.3zm-8,2.41a1,1 0 0 1 2,0l0,3l14,0l0,-3a1,1 0 0 1 2,0l0,3a2,2 0 0 1 -2,2l-14,0a2,2 0 0 1 -2,-2l0,-3z",className:"heroicon-ui"}))))))});if(t){var s=t.split("/").pop();r.push(n.a.createElement("li",{key:e.length>0?e.length:e.length+1},n.a.createElement("a",{href:t,onClick:a._handleDownload.bind(Object(he.a)(Object(he.a)(a)),t),download:s,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("span",{className:"download-file-label"},s),n.a.createElement("span",{className:"download-icon"},n.a.createElement("span",{className:"download-icon-label"},"Download  "),n.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},n.a.createElement("g",null,n.a.createElement("rect",{fill:"none",id:"canvas_background",height:"402",width:"582",y:"-1",x:"-1"})),n.a.createElement("g",null,n.a.createElement("path",{id:"svg_1",d:"m11,14.59l0,-11.59a1,1 0 0 1 2,0l0,11.59l3.3,-3.3a1,1 0 0 1 1.4,1.42l-5,5a1,1 0 0 1 -1.4,0l-5,-5a1,1 0 0 1 1.4,-1.42l3.3,3.3zm-8,2.41a1,1 0 0 1 2,0l0,3l14,0l0,-3a1,1 0 0 1 2,0l0,3a2,2 0 0 1 -2,2l-14,0a2,2 0 0 1 -2,-2l0,-3z",className:"heroicon-ui"})))))))}return r},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"formatUrl",value:function(){var e=this.props.config.materialUrl;this.props.courseId&&e&&(e=(e=e.replace("{courseId}",this.props.courseId)).replace("{purpose}","support_files"),this.setState({materialUrl:e}))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.formatUrl()}},{key:"componentDidUpdate",value:function(e){this.mounted&&e.courseId!==this.props.courseId&&this.formatUrl()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){try{var e=this.props.currentLecture;if(e){var t=e.cl_support_files;delete(t=t?JSON.parse(t):{})[""];var a=Object.values(t);if(a.length>0||this.props.docurl)return n.a.createElement("div",{className:this.props.showList?"supported-docs":""},n.a.createElement("div",{className:this.props.showList?"list-open":"list-close"},n.a.createElement("ul",null,n.a.createElement("li",{className:"doc_ul_title"},n.a.createElement("span",null,"Supported Documents"),n.a.createElement("span",{className:"close-doc",onClick:this._handleClick},"\xd7")),n.a.createElement("div",{className:"custom-scroller overflow-list"},this._listDocs(a,this.props.docurl)))))}}catch(r){console.log(r)}return null}}]),t}(r.Component);var fe=Object(w.b)(function(e){return{config:e.config,currentLecture:e.currLecture,showList:e.showList,courseId:e.subscription.cs_course_id}},function(e){return{onShowList:function(){return e({type:"SHOW_LIST"})}}})(ve),ge=a(25),ye=a.n(ge),be=a(26),we=a.n(be),Ee=a(27),Le=a.n(Ee);var Oe=Object(w.b)(function(e){return{currOpen:!!e.currOpen&&e.currOpen,dissOpen:!!e.dissOpen&&e.dissOpen}})(function(e){var t={};return e.currOpen&&(t={left:"35%",width:"65%",transition:"0.6s ease width"}),e.dissOpen&&(t={right:"35%",width:"65%",transition:"0.6s ease width"}),n.a.createElement("div",{className:e.modalClasses,style:t},n.a.createElement("div",{className:"modal-wrap"},n.a.createElement("div",{className:"popup-content np"},n.a.createElement("h2",null,"Lecture Description"),n.a.createElement("div",{className:"modal-desc"},e.description),n.a.createElement("div",{className:"confirm-btn-wrapper desc-btns"},n.a.createElement("button",{className:"pop-btn-ok",onClick:e.clickHandler,type:"button"},"Close")))))}),_e=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).mounted=!1,a.state={currentLecture:null,modalClasses:"modal-container"},a._handleFullscreenChange=function(e){var t=e.target,r=document.fullscreenElement===t;(r&&!a.props.fullScreen||!r&&a.props.fullScreen)&&a.props.setFullScreen()},a._cancelHandler=function(){a.setState({modalClasses:"modal-container"}),a.props.setModalOpen(!1)},a._modalOpenHandler=function(){a.state.modalClasses.includes("visible")?a._cancelHandler():(a.setState({modalClasses:"modal-container visible"}),a.props.setModalOpen(!0))},a.lectureSwitch=function(e){var t="/".concat(a.props.match.params.courseId,"/").concat(e.lectureId);a.props.history.push({pathname:t,state:{action:e.direction}})},a.discussionToggleHandler=function(){a.props.onDiscussionToggle()},a._handleClick=function(){a.props.onShowList(),a.props.currOpen&&a.props.onCurriculumToggle()},a._toggleFullScreen=function(){a.props.fullScreen?B():J(),a.props.setFullScreen()},a._showSupportDocButton=function(){var e=a.props.currentLecture.cl_support_files;delete(e=e?JSON.parse(e):{})[""];var t=Object.values(e);return!a.props.isPreview&&t.length>0?n.a.createElement("div",{className:"footer-left-col toggle-docs",onClick:a._handleClick,title:"Support Files"},n.a.createElement("span",{className:"download-icon"},n.a.createElement("span",{className:"download-icon-label"},"Download  "),n.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"#595959",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",null,n.a.createElement("rect",{fill:"none",id:"canvas_background",height:"402",width:"582",y:"-1",x:"-1"})),n.a.createElement("g",null,n.a.createElement("path",{id:"svg_1",d:"m11,14.59l0,-11.59a1,1 0 0 1 2,0l0,11.59l3.3,-3.3a1,1 0 0 1 1.4,1.42l-5,5a1,1 0 0 1 -1.4,0l-5,-5a1,1 0 0 1 1.4,-1.42l3.3,3.3zm-8,2.41a1,1 0 0 1 2,0l0,3l14,0l0,-3a1,1 0 0 1 2,0l0,3a2,2 0 0 1 -2,2l-14,0a2,2 0 0 1 -2,-2l0,-3z",className:"heroicon-ui"}))))):n.a.createElement("div",{className:"div-pad"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,document.addEventListener("fullscreenchange",this._handleFullscreenChange),document.addEventListener("mozfullscreenchange",this._handleFullscreenChange),document.addEventListener("webkitfullscreenchange",this._handleFullscreenChange),document.addEventListener("msfullscreenchange",this._handleFullscreenChange),this.mounted&&!this.state.currentLecture&&this.props.currentLecture&&this.setState({currentLecture:this.props.currentLecture})}},{key:"componentDidUpdate",value:function(e){this.mounted=!0,this.mounted&&e.currentLecture&&this.props.currentLecture.id!==e.currentLecture.id&&this.setState({currentLecture:this.props.currentLecture})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("fullscreenchange",this._handleFullscreenChange),document.removeEventListener("mozfullscreenchange",this._handleFullscreenChange),document.removeEventListener("webkitfullscreenchange",this._handleFullscreenChange),document.removeEventListener("msfullscreenchange",this._handleFullscreenChange)}},{key:"componentWillReceiveProps",value:function(e){this.props.swipeEvent!==e.swipeEvent&&(e.swipeEvent?this.props.mouseEnterHandler():this.props.mouseLeaveHandler())}},{key:"render",value:function(){var e=this,t=null,a=null,r=null;return this.state.currentLecture&&this.state.currentLecture.cl_lecture_description&&(r=this.state.currentLecture.cl_lecture_description),this.state.currentLecture&&this.state.currentLecture.nexLecture&&"undefined"!==typeof this.state.currentLecture.nexLecture.id&&(t=this.state.currentLecture.nexLecture),this.state.currentLecture&&"undefined"!==typeof this.state.currentLecture.prevLecture.id&&(a=this.state.currentLecture.prevLecture),n.a.createElement(n.a.Fragment,null,r&&n.a.createElement(Oe,{description:r,modalClasses:this.state.modalClasses,clickHandler:this._cancelHandler}),n.a.createElement(fe,null),n.a.createElement("div",{className:"lecture-footer-container",onMouseEnter:this.props.mouseEnterHandler,onMouseLeave:this.props.mouseLeaveHandler},n.a.createElement("div",{className:"lecture-footer preview-area",style:{opacity:this.props.opacity,visibility:this.props.opacity?"visible":"hidden"}},n.a.createElement("div",null,this._showSupportDocButton(),r&&n.a.createElement("div",{className:"desc-icon",title:"Lecture Description",onClick:this._modalOpenHandler},n.a.createElement("img",{src:Le.a,width:"30",alt:"Lecture Description"})),this.props.isPreview&&n.a.createElement("div",{title:"Preview time",className:"time-ramining align-items-center"},n.a.createElement("span",null,"Time left:"),n.a.createElement("span",{className:"time"},"\xa0",F(this.props.previewTimer)))),n.a.createElement("div",{className:"footer-right-col"},a?n.a.createElement("div",{title:"Previous Lecture",onClick:function(){e.lectureSwitch({direction:"backward",lectureId:a.id})},className:"prev-lecture"},n.a.createElement("span",null,"Prev")):a,t?n.a.createElement("div",{title:"Next Lecture",onClick:function(){e.lectureSwitch({direction:"forward",lectureId:t.id})},className:"next-lecture"},n.a.createElement("span",null,"Next")):t,!this.props.isPreview&&n.a.createElement("div",{title:"Ask a question"},n.a.createElement("span",{className:"ask-holder",onClick:this.discussionToggleHandler},n.a.createElement("span",{className:"ask"},"Ask")," ",n.a.createElement("span",{className:"ask-icon"},"?"))),n.a.createElement("div",{className:"screen-toggle",onClick:this._toggleFullScreen},n.a.createElement("img",{className:"expand-icon",src:this.props.fullScreen?we.a:ye.a,alt:"Toggle fullscreen",title:"Toggle fullscreen"}))))))}}]),t}(r.Component),Se=Object(w.b)(function(e){return{currentLecture:e.currLecture,currOpen:!!e.currOpen&&e.currOpen,isPreview:e.isPreview,previewTimer:e.previewTimer,fullScreen:e.fullScreen}},function(e){return{onDiscussionToggle:function(){return e({type:"TOGGLE_DISCUSSION"})},onShowList:function(){return e({type:"SHOW_LIST"})},onCurriculumToggle:function(){return e({type:f})},setFullScreen:function(){return e({type:"SET_FULLSCREEN"})},setModalOpen:function(t){return e({type:"SET_MODALOPEN",payload:t})}}})(Object(v.a)(_e)),Ne=a(28),ke=a.n(Ne),je=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.timer=null,a.previousTime=0,a.completeStatus=null,a.state={currLecture:null,timer:0,cue:0,percentage:0,swipeEvent:!1,opacity:1,showPoster:!0,ended:!1,seeked:!1},a.onPercentageUpdate=function(e){var t=Math.ceil(100*e.percent),r=a.state.timer,n=a.state.currLecture.cl_access_limit_percentage?+a.state.currLecture.cl_access_limit_percentage:100;if(n=n>0?n:100,e.seconds%5!==0&&a.mounted){var s={timer:Math.ceil(e.seconds),cue:e.seconds,percentage:t};Math.abs(a.previousTime-e.seconds)>10&&(console.log("seeked"),s.seeked=!0),a.setState(Object(b.a)({},s),function(){if((r!==a.state.timer||100===t)&&!a.state.seeked){var s=!!(t>=n||e.completed);a.completeStatus=JSON.stringify({percentage:t,cue:a.state.timer,lectureId:a.props.currLecture.id,completed:s}),window.lecure_logs[a.props.currLecture.id]={lecture_id:a.props.currLecture.id,percentage:t,cue:a.state.timer,views:s?1:0}}})}a.previousTime=e.seconds,e.completed&&a.mounted&&(a.state.seeked||(a.props.onPercentageUpdate({percentage:t,cue:a.state.timer,lectureId:a.props.currLecture.id,completed:!0}),a.completeStatus=null,delete window.lecure_logs[a.props.currLecture.id]),a.props.onComplete(),a.setState({ended:!0}))},a.mouseEnterHandler=function(){a.timer&&clearTimeout(a.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){!a.mounted||a.props.currOpen||a.props.isPreview||(a.timer=setTimeout(function(){a.mounted&&!1===y()&&a.setState({opacity:0})},4e3))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.completeStatus=null,this.mounted&&this.props.currLecture){var e=this.props.currLecture.percentage;if(e<100){var t=this.props.currLecture.cl_duration*e/100;t=0===t&&0!==+this.props.currLecture.cue?+this.props.currLecture.cue:t,this.setState({cue:t}),this.previousTime=t}this.setState({currLecture:Object(b.a)({},this.props.currLecture)})}this.mouseLeaveHandler()}},{key:"componentDidUpdate",value:function(e){if(this.mounted&&"undefined"!==typeof this.props.currLecture.id&&this.state.currLecture&&+this.props.currLecture.id!==+this.state.currLecture.id&&this.setState({currLecture:Object(b.a)({},this.props.currLecture)}),this.mounted&&e.currLecture&&e.currLecture.id!==this.props.currLecture.id){try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.currLecture.id])}catch(t){console.log(t)}this.completeStatus=null}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.currLecture.id])}catch(e){console.log(e)}this.completeStatus=null}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&this.props.swipeEvent!==e.swipeEvent&&this.setState({swipeEvent:e.swipeEvent})}},{key:"render",value:function(){var e=this,t=this.props.videoHeight,a=this.state.currLecture&&this.state.currLecture.cl_filename?this.state.currLecture.cl_filename.split("/"):null,r=null;return(a=(a=a?a[a.length-1]:null)?a.split("?")[0]:null)&&(r=n.a.createElement(de.a,{id:"vimeo",video:a,className:"vimeo video-container",height:1===this.state.opacity?t:"100%",autoplay:this.props.autoPlay,start:this.state.cue,volume:1,paused:this.props.descModalOpen||this.state.ended,onTimeUpdate:function(t){return e.onPercentageUpdate(Object(b.a)({},t,{completed:!1}))},onEnd:function(t){e.onPercentageUpdate(Object(b.a)({},t,{completed:!0}))},onReady:function(){e.setState({showPoster:!1})}})),n.a.createElement("div",{style:{backgroundColor:"#000"},className:"video-lecture"},n.a.createElement("div",{className:"active-topbar",onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler}),n.a.createElement(me,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent}),r,this.state.showPoster&&n.a.createElement("div",{className:"poster-center poster-container"},n.a.createElement("img",{src:ke.a,alt:"Poster",className:"poster-img"})),n.a.createElement(Se,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent}))}}]),t}(r.Component),Ie=Object(w.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,dissOpen:e.dissOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug,descModalOpen:e.descModalOpen}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(je),He=a(56),Te=null,Pe=0,Ce=0,xe=0,Ae=["black-watermark","white-watermark","skyblue-watermark","orange-watermark","yellow-watermark"],De=window.flowplayer,Ue=window.location.host.replace("www.",""),Me="".concat(window.location.protocol,"//").concat(window.location.host,"/uploads/").concat(Ue,"/course/{courseId}/videos/"),Re=new He.a(function(e,t){var a=!0,r=!1,n=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var i=s.value;"fp-player"===i.target.className&&(Pe=i.contentRect.width,Ce=i.contentRect.height,xe=0)}}catch(o){r=!0,n=o}finally{try{a||null==c.return||c.return()}finally{if(r)throw n}}}),qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).videoStardedPlaying=!1,a.mounted=!1,a.player=!1,a.previousTime=0,a.timer=null,a.completeStatus=null,a.state={timer:0,cue:0,percentage:0,swipeEvent:!1,errored:!1,opacity:1,watermarkStyle:{},showPoster:!0,clickOrDrag:!1,seeked:!1},a.watermark=function(e){var t=document.querySelector(e.selector),r=a.props.userDetails.us_phone?a.props.userDetails.us_phone:a.props.userDetails.us_name,n=document.createElement("div");n.setAttribute("class","watermark"),n.textContent=r,t.appendChild(n),Pe=t.clientWidth,Ce=t.offsetHeight,Re.observe(t),Te&&clearInterval(Te),Te=setInterval(function(){var e=Ae[Math.floor(Math.random()*Ae.length+1)],a=e?"watermark ".concat(e):"watermark",r={};r.left=Math.floor(Math.random()*(Pe-n.offsetWidth)+1)+"px",xe+=50,r.top=xe+"px",xe>Ce-100&&(xe=0),n.setAttribute("class",a),n.style.left=r.left,n.style.top=r.top,t.removeChild(n),t.appendChild(n)},5e3)},a.onReady=function(e,t){a.props.currLecture&&(a.videoStardedPlaying=!1,t.volume(1),a.props.autoPlay&&(t.play(),a.state.showPoster&&a.setState({showPoster:!1})),a.watermark({selector:".fp-player"})),console.log(t)},a.onPlaying=function(e,t){if(!1===a.videoStardedPlaying){var r=a.props.currLecture.percentage,n=a.props.currLecture.cl_duration*r/100;n=0===n&&0!==+a.props.currLecture.cue?+a.props.currLecture.cue:n,a.setState({cue:n}),n>0&&t.seek(n),a.previousTime=n,a.videoStardedPlaying=!0}},a.onTimeUpdate=function(e,t){if(a.state.showPoster&&a.setState({showPoster:!1}),!1===a.videoStardedPlaying){var r=a.props.currLecture.percentage;if(r<100){var n=a.props.currLecture.cl_duration*r/100;n=0===n&&0!==+a.props.currLecture.cue?+a.props.currLecture.cue:n,a.setState({cue:n}),n>0&&setTimeout(function(){t.seek(n)},50),a.previousTime=n}a.videoStardedPlaying=!0}else{var s=t.ready?t.video.time:0,c=s/(t.ready?t.video.duration:0);a.onPercentageUpdate({seconds:s,percent:c,completed:!1})}},a.onEnded=function(e,t){var r=t.ready?t.video.duration:0;a.onPercentageUpdate({seconds:r,percent:1,completed:!0})},a.onPaused=function(e,t){},a.onError=function(e,t){a.player.shutdown(),a.setState({errored:!0})},a.onShutdown=function(e,t){t.engine&&t.engine.hls.stopLoad()},a.onPercentageUpdate=function(e){var t=Math.ceil(100*e.percent),r=a.state.timer,n=a.props.currLecture.cl_access_limit_percentage?+a.props.currLecture.cl_access_limit_percentage:100;if(n=n>0?n:100,e.seconds%5!==0&&a.mounted){var s={timer:Math.ceil(e.seconds),cue:e.seconds,percentage:t};Math.abs(a.previousTime-e.seconds)>15&&(console.log("seeked"),s.seeked=!0),a.setState(Object(b.a)({},s),function(){if((r!==a.state.timer||100===t)&&!a.state.seeked){var s=!!(t>=n||e.completed);a.completeStatus=JSON.stringify({percentage:t,cue:a.state.timer,lectureId:a.props.currLecture.id,completed:s}),window.lecure_logs[a.props.currLecture.id]={lecture_id:a.props.currLecture.id,percentage:t,cue:a.state.timer,views:s?1:0}}})}a.previousTime=e.seconds,e.completed&&a.mounted&&(a.state.seeked||(a.props.onPercentageUpdate({percentage:t,cue:a.state.timer,lectureId:a.props.currLecture.id,completed:!0}),a.completeStatus=null,delete window.lecure_logs[a.props.currLecture.id]),a.props.onComplete())},a.mouseEnterHandler=function(){a.timer&&clearTimeout(a.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){!a.mounted||a.props.currOpen||a.props.isPreview||(a.timer=setTimeout(function(){a.mounted&&!1===y()&&a.setState({opacity:0})},4e3))},window.TGN.fetchTokens(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){try{this.mounted=!0,this.completeStatus=null,this.mounted&&this.props.currLecture&&(this.initPlayer(),this.player.one("ready",this.onReady),this.player.on("playing",this.onPlaying),this.player.on("progress",this.onTimeUpdate),this.player.on("finish",this.onEnded),this.player.on("pause",this.onPaused),this.player.on("error",this.onError),this.player.on("shutdown",this.onShutdown),this.mouseLeaveHandler())}catch(e){}}},{key:"initPlayer",value:function(){var e=Me.replace("{courseId}",this.props.courseId),t="".concat(e).concat(this.props.videoId);De(function(e,t){if(De.support.inlineVideo){var a=t.querySelector(".fp-fullscreen");e.on("ready",function(){t.querySelector(".fp-controls").appendChild(a)});var r=De.common,n=De.bean,s=r.createElement("strong",{class:"fp-backward"},'<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 24 24"><path class="fill-path" d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z" fill="#fff"/><path d="M0 0h24v24H0z" fill="none"/></svg>'),c=r.createElement("strong",{class:"fp-forward"},'<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 24 24"><path class="fill-path" d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z" fill="#fff"/><path d="M0 0h24v24H0z" fill="none"/></svg>');n.on(s,"click",function(){var t=e.video.time-10;t>=0&&!e.seeking&&e.seek(t)}),n.on(c,"click",function(){var t=e.video,a=t.time+10;a<=t.duration&&!e.seeking&&e.seek(a)});var i=document.querySelector(".fp-forward"),o=document.querySelector(".fp-backward");i||o||[c,s].forEach(function(e){r.prepend(r.find(".fp-controls")[0],e)}),e.on("progress",function(e,t){var a=t.video,n=a.time;r.toggleClass(s,"is-disabled",n<10),r.toggleClass(c,"is-disabled",n>a.duration-10)})}}),this.player=De("#player",{embed:!1,speeds:[.25,.5,1,1.25,1.5,2],seekStep:10,hlsQualities:!0,seekable:!0,hlsjs:{startLevel:0},clip:{hlsjs:{safari:!0},sources:[{type:"application/vnd.apple.mpegurl",src:t},{type:"application/x-mpegurl",src:t}],qualities:["240p","360p","480p","720p","1080p"],defaultQuality:"240p"}})}},{key:"componentDidUpdate",value:function(e){if(this.mounted&&this.props.currLecture&&this.props.currLecture.cue!==e.currLecture.cue&&this.setState({cue:this.props.currLecture.cue}),this.mounted&&this.props.currLecture&&this.props.currLecture.id!==e.currLecture.id){try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.currLecture.id])}catch(t){console.log(t)}this.completeStatus=null}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;try{this.player.stop(),this.player.unload(),this.player.shutdown(),this.player.off("ready",this.onReady),this.player.off("playing",this.onPlaying),this.player.off("progress",this.onTimeUpdate),this.player.off("finish",this.onEnded),this.player.off("pause",this.onPaused),this.player.off("error",this.onError),this.player.off("shutdown",this.onShutdown),this.player=null,clearInterval(Te),Re.disconnect(),this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.currLecture.id]),this.completeStatus=null}catch(e){console.log(e)}}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&this.props.swipeEvent!==e.swipeEvent&&this.setState({swipeEvent:e.swipeEvent})}},{key:"render",value:function(){this.props.descModalOpen&&this.player.pause();var e=this.props.videoHeight;return this.state.errored&&window.navigator.onLine?n.a.createElement("div",{style:{backgroundColor:"#000"},className:"video-lecture"},n.a.createElement("div",{className:"active-topbar",onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler}),n.a.createElement(me,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent}),n.a.createElement("div",{className:"lecture-holder"},n.a.createElement("div",{className:"context-holder locked-content"},n.a.createElement("h5",{className:"locked-title"},"The video is being processed."),n.a.createElement("h5",{className:"locked-title"},"Please try again later."))),n.a.createElement(Se,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent})):n.a.createElement("div",{style:{backgroundColor:"#000"},className:"video-lecture"},n.a.createElement("div",{className:"active-topbar",onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler}),n.a.createElement(me,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent}),n.a.createElement("div",{className:"video-container"},n.a.createElement("div",{id:"player",style:{height:1===this.state.opacity?e:"100%"},className:"flplayer"}),this.state.showPoster&&n.a.createElement("div",{className:"poster-center poster-container"},n.a.createElement("img",{src:ke.a,alt:"Poster",className:"poster-img"}))),n.a.createElement(Se,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent}))}}]),t}(r.Component),Ge=Object(w.b)(function(e){var t={};try{t=JSON.parse(e.config.user_details)}catch(a){console.log(a)}return{currLecture:e.currLecture,currOpen:e.currOpen,dissOpen:e.dissOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug,userDetails:t,descModalOpen:e.descModalOpen,config:e.config}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(qe),ze=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.timer=null,a.state={currLecture:null,timer:0,cue:0,percentage:0,swipeEvent:!1,opacity:1},a.mouseEnterHandler=function(){a.timer&&clearTimeout(a.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&this.props.swipeEvent!==e.swipeEvent&&this.setState({swipeEvent:e.swipeEvent})}},{key:"render",value:function(){return n.a.createElement("div",{style:{backgroundColor:"#444"},className:"video-lecture"},n.a.createElement(me,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent}),n.a.createElement("h4",{className:"instruction-info"},"Available later."),n.a.createElement(Se,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent}))}}]),t}(n.a.Component),We=Object(w.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,dissOpen:e.dissOpen}},null)(ze),Fe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={currLecture:null,currLectureId:0},a.curriculumToggleHandler=function(){a.props.onCurriculumToggle()},a.backToDashboard=function(){if(!y())return Q(a.props.course.id,a.props.isPreview,a.props.courseSlug);a.props.menuOpenFn()},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.props.currLecture&&+this.props.currLecture.id!==+this.state.currLectureId&&(this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id}),this.props.mouseLeaveHandler())}},{key:"componentDidUpdate",value:function(e){this.mounted=!0,this.mounted&&this.props.currLecture&&this.props.currLecture.id!==e.currLecture.id&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=null,t=!0;if(this.state.currLecture){var a=["nav-container"];-1!==[3,8].indexOf(+this.state.currLecture.cl_lecture_type)&&a.push("nav-height");var r="Lecture";switch(+this.state.currLecture.cl_lecture_type){case 13:r="Survey";break;case 3:r="Quiz";break;case 8:r="Assignment";break;default:r="Lecture"}-1!==[5,13,3,8].indexOf(+this.state.currLecture.cl_lecture_type)&&(t=!1),e=n.a.createElement("div",{className:a.join(" "),onMouseEnter:this.props.mouseEnterHandler,onMouseLeave:this.props.mouseLeaveHandler},n.a.createElement("div",{className:"nav-header",style:{background:2===+this.state.currLecture.cl_lecture_type?null:"none",opacity:this.props.opacity,visibility:this.props.opacity?"visible":"hidden"}},n.a.createElement("div",{className:"menu-icon"},n.a.createElement("span",{className:"menu",onClick:this.curriculumToggleHandler})),(t||this.props.locked)&&this.state.currLecture?n.a.createElement("div",{className:"text-left contenttitle"},n.a.createElement("span",{className:"lecture-title"},this.state.currLecture?this.state.currLecture.cl_lecture_name:null),n.a.createElement("div",{className:"curriculam-index"},n.a.createElement("span",null,"Section : ",this.state.currLecture?this.state.currLecture.sNumber:null," \xa0"),n.a.createElement("span",null,r," : ",this.state.currLecture?this.state.currLecture.lNumber:null))):null,n.a.createElement("div",{title:"Back to course dashboard.",className:"text-right ask-wrapper"},n.a.createElement("span",{className:"close-icon",onClick:this.backToDashboard}))))}return e}}]),t}(r.Component);var Je=Object(w.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,course:e.course,opacityClass:e.opacityClass,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onCurriculumToggle:function(){return e({type:f})},menuOpenFn:function(){return e({type:g,payload:!0})}}})(Fe),Be=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).mounted=!1,a.state={currentLecture:null,modalClasses:"modal-container lecture-desc-modal"},a._handleFullscreenChange=function(e){var t=e.target,r=document.fullscreenElement===t;(r&&!a.props.fullScreen||!r&&a.props.fullScreen)&&a.props.setFullScreen()},a.lectureSwitch=function(e){var t="/".concat(a.props.match.params.courseId,"/").concat(e.lectureId);a.props.history.push({pathname:t,state:{action:e.direction}})},a._cancelHandler=function(){a.setState({modalClasses:"modal-container"}),a.props.setModalOpen(!1)},a._modalOpenHandler=function(){a.state.modalClasses.includes("visible")?a._cancelHandler():(a.setState({modalClasses:"modal-container lecture-desc-modal visible"}),a.props.setModalOpen(!0))},a.discussionToggleHandler=function(){a.props.onDiscussionToggle()},a._handleClick=function(){a.props.onShowList(),a.props.currOpen&&a.props.onCurriculumToggle()},a._toggleFullScreen=function(){a.props.fullScreen?B():J(),a.props.setFullScreen()},a._showSupportDocButton=function(){var e=a.props.currentLecture.cl_support_files;delete(e=e?JSON.parse(e):{})[""];var t=Object.values(e);return!a.props.isPreview&&(t.length>0||a.props.docurl)?n.a.createElement("div",{className:"footer-left-col toggle-docs",onClick:a._handleClick,title:"Support Files"},n.a.createElement("span",{className:"download-icon"},n.a.createElement("span",{className:"download-icon-label"},"Download  "),n.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"#595959",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",null,n.a.createElement("rect",{fill:"none",id:"canvas_background",height:"402",width:"582",y:"-1",x:"-1"})),n.a.createElement("g",null,n.a.createElement("path",{id:"svg_1",d:"m11,14.59l0,-11.59a1,1 0 0 1 2,0l0,11.59l3.3,-3.3a1,1 0 0 1 1.4,1.42l-5,5a1,1 0 0 1 -1.4,0l-5,-5a1,1 0 0 1 1.4,-1.42l3.3,3.3zm-8,2.41a1,1 0 0 1 2,0l0,3l14,0l0,-3a1,1 0 0 1 2,0l0,3a2,2 0 0 1 -2,2l-14,0a2,2 0 0 1 -2,-2l0,-3z",className:"heroicon-ui"}))))):n.a.createElement("div",{className:"div-pad"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,document.addEventListener("fullscreenchange",this._handleFullscreenChange),document.addEventListener("mozfullscreenchange",this._handleFullscreenChange),document.addEventListener("webkitfullscreenchange",this._handleFullscreenChange),document.addEventListener("msfullscreenchange",this._handleFullscreenChange),this.mounted&&!this.state.currentLecture&&this.props.currentLecture&&this.setState({currentLecture:this.props.currentLecture})}},{key:"componentDidUpdate",value:function(e){this.mounted=!0,this.mounted&&e.currentLecture&&this.props.currentLecture.id!==e.currentLecture.id&&this.setState({currentLecture:this.props.currentLecture})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("fullscreenchange",this._handleFullscreenChange),document.removeEventListener("mozfullscreenchange",this._handleFullscreenChange),document.removeEventListener("webkitfullscreenchange",this._handleFullscreenChange),document.removeEventListener("msfullscreenchange",this._handleFullscreenChange)}},{key:"render",value:function(){var e=this,t=null,a=null,r=null;return this.state.currentLecture&&this.state.currentLecture.cl_lecture_description&&(r=this.state.currentLecture.cl_lecture_description),this.state.currentLecture&&this.state.currentLecture.nexLecture&&"undefined"!==typeof this.state.currentLecture.nexLecture.id&&(t=this.state.currentLecture.nexLecture),this.state.currentLecture&&"undefined"!==typeof this.state.currentLecture.prevLecture.id&&(a=this.state.currentLecture.prevLecture),n.a.createElement(n.a.Fragment,null,r&&n.a.createElement(Oe,{description:r,modalClasses:this.state.modalClasses,clickHandler:this._cancelHandler}),n.a.createElement(fe,{docurl:this.props.docurl}),n.a.createElement("div",{className:"lecture-footer-container",onMouseEnter:this.props.mouseEnterHandler,onMouseLeave:this.props.mouseLeaveHandler},n.a.createElement("div",{className:"lecture-footer",style:{opacity:this.props.opacity,visibility:this.props.opacity?"visible":"hidden"}},n.a.createElement("div",null,this._showSupportDocButton(),r&&n.a.createElement("div",{className:"desc-icon",title:"Lecture Description",onClick:this._modalOpenHandler},n.a.createElement("img",{src:Le.a,width:"26",alt:"Lecture Description"})),this.props.isPreview&&n.a.createElement("div",{title:"Preview time",className:"time-ramining align-items-center"},n.a.createElement("span",null,"Time left:"),n.a.createElement("span",{className:"time"},"\xa0",F(this.props.previewTimer)))),n.a.createElement("div",{className:"footer-right-col"},a?n.a.createElement("div",{title:"Previous Lecture",onClick:function(){e.lectureSwitch({direction:"backward",lectureId:a.id})},className:"prev-lecture"},n.a.createElement("span",null,"Prev")):a,t?n.a.createElement("div",{title:"Next Lecture",onClick:function(){e.lectureSwitch({direction:"forward",lectureId:t.id})},className:"next-lecture"},n.a.createElement("span",null,"Next")):t,!this.props.isPreview&&n.a.createElement("div",{title:"Ask a question"},n.a.createElement("span",{className:"ask-holder",onClick:this.discussionToggleHandler},n.a.createElement("span",{className:"ask"},"Ask")," ",n.a.createElement("span",{className:"ask-icon"},"?"))),n.a.createElement("div",{className:"screen-toggle",onClick:this._toggleFullScreen},n.a.createElement("img",{className:"expand-icon",src:this.props.fullScreen?we.a:ye.a,alt:"Toggle fullscreen",title:"Toggle fullscreen"}))))))}}]),t}(r.Component),Qe=Object(w.b)(function(e){return{currentLecture:e.currLecture,currOpen:!!e.currOpen&&e.currOpen,isPreview:e.isPreview,previewTimer:e.previewTimer,fullScreen:e.fullScreen}},function(e){return{onDiscussionToggle:function(){return e({type:"TOGGLE_DISCUSSION"})},onShowList:function(){return e({type:"SHOW_LIST"})},onCurriculumToggle:function(){return e({type:f})},setFullScreen:function(){return e({type:"SET_FULLSCREEN"})},setModalOpen:function(t){return e({type:"SET_MODALOPEN",payload:t})}}})(Object(v.a)(Be));a(19);function Ve(){var e=document.getElementById("documentFrame");e.contentDocument&&"about:blank"===e.contentDocument.URL&&(e.src+="")}var Ye=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.docLoadTimer=null,a.completeStatus=null,a.state={opacity:1,timer:null,downloadEnabled:!1},a.mouseEnterHandler=function(){a.state.timer&&clearTimeout(a.state.timer),a.mounted&&(a.setState({opacity:1}),a.props.onOpacityChange("lecture-holder overflow-visible active-doc-over"))},a.mouseLeaveHandler=function(){if(a.mounted&&!a.props.currOpen&&!a.props.showList&&!a.props.isPreview){var e=setTimeout(function(){a.mounted&&!1===y()&&(a.setState({opacity:0}),a.props.onOpacityChange("lecture-holder overflow-visible"))},4e3);a.setState({timer:e})}},a.continueFull=function(){a.mounted&&a.setState({showModal:!1},function(){var e=document.documentElement;(e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen).call(e)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.completeStatus=null,this.mouseLeaveHandler(),this.docLoadTimer=setInterval(Ve,2e3),document.getElementById("documentFrame").onload=function(){clearInterval(e.docLoadTimer),e.completeStatus=JSON.stringify({percentage:100,cue:0,lectureId:e.props.lectureId,completed:!0}),window.lecure_logs[e.props.lectureId]={lecture_id:e.props.lectureId,percentage:100,cue:0,views:1}}}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&this.props.swipeEvent!==e.swipeEvent&&(e.swipeEvent?this.mouseEnterHandler():this.mouseLeaveHandler())}},{key:"componentDidUpdate",value:function(e){if(this.mounted&&e.lectureId!==this.props.lectureId){try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.lectureId])}catch(t){console.log(t)}this.completeStatus=null}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearInterval(this.docLoadTimer);try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.lectureId])}catch(e){console.log(e)}this.completeStatus=null}},{key:"render",value:function(){var e=this.props.config.documentUrl,t=0===this.state.opacity?"preview-area document-preview full-height":"preview-area document-preview";e=(e=e.replace("{docId}",this.props.documentId)).replace("{courseId}",this.props.courseId);var a=new URL(e).searchParams;return n.a.createElement("div",{className:t},n.a.createElement("div",{className:"active-topbar",onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler}),n.a.createElement(Je,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}),n.a.createElement("div",{className:this.props.opacityClass},n.a.createElement("div",{className:"context-holder document-context documentframe-container"},n.a.createElement("div",{className:"hide-open-doc"}),n.a.createElement("iframe",{id:"documentFrame",ref:"documentFrame",title:"Document",width:"100%",height:"100%",style:{border:"none"},src:e}))),n.a.createElement(Qe,{docurl:!!this.state.downloadEnabled&&a.get("url"),mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}))}}]),t}(r.Component),Ze=Object(w.b)(function(e){return{config:e.config,currLecture:e.currLecture,currOpen:e.currOpen,course:e.course,opacityClass:e.opacityClass,showList:e.showList,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})},onOpacityChange:function(t){return e({type:"SET_OPACITY_CLASS",payload:t})}}})(Ye),Xe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={currLecture:null,currLectureId:0},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.props.currLecture&&+this.props.currLecture.id!==+this.state.currLectureId&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id})}},{key:"componentDidUpdate",value:function(e){this.mounted=!0,this.mounted&&e.currLecture&&this.props.currLecture.id!==e.currLecture.id&&this.setState({currLecture:Object(b.a)({},this.props.currLecture),currLectureId:this.props.currLecture.id})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=null;if(this.state.currLecture){var t="Lecture";switch(+this.state.currLecture.cl_lecture_type){case 13:t="Survey";break;case 3:t="Quiz";break;case 8:t="Assignment";break;default:t="Lecture"}e=n.a.createElement("div",{className:"scrollable-title-wrapper"},n.a.createElement("div",{className:"content-title"},this.state.currLecture?this.state.currLecture.cl_lecture_name:null),n.a.createElement("div",{className:"content-title-index"},n.a.createElement("span",{className:"section-count"},"Section :",this.state.currLecture?this.state.currLecture.sNumber:null),n.a.createElement("span",{className:"topic-count"},t," : ",this.state.currLecture?this.state.currLecture.lNumber:null)))}return e}}]),t}(r.Component),Ke=Object(w.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,course:e.course}},null)(Xe),$e=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.completeStatus=null,a.state={opacity:1,timer:null,content:null,lectureId:0,contentLoaded:!1},a.setContent=function(e,t){var r={header:{method:"lecture_detail"},body:{course_id:e,lecture_id:t,lecture_type:5}};H.post("/content",JSON.stringify(r),{withCredentials:!0}).then(function(t){if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",r,t.data),Q(e,a.props.isPreview,a.props.courseSlug)}else a.mounted&&(a.setState({content:t.data.body.lecture.html.cl_lecture_content,lectureId:a.props.lectureId,contentLoaded:!0},function(){a.completeStatus=JSON.stringify({percentage:100,cue:0,lectureId:a.props.lectureId,completed:!0}),window.lecure_logs[a.props.lectureId]={lecture_id:a.props.lectureId,percentage:100,cue:0,views:1}}),a.refs.htmlContent.scrollTop=0),a.mouseEnterHandler(),a.mouseLeaveHandler()}).catch(function(e){})},a.mouseEnterHandler=function(){a.state.timer&&clearTimeout(a.state.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){if(a.mounted&&!a.props.currOpen&&!a.props.isPreview){var e=setTimeout(function(){a.mounted&&!1===y()&&a.setState({opacity:0})},4e3);a.setState({timer:e})}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.mounted=!0,this.completeStatus=null,this.mounted&&this.props.lectureId&&this.state.lectureId!==this.props.lectureId&&this.setContent(this.props.courseId,this.props.lectureId),this.mouseLeaveHandler()}},{key:"componentWillUnmount",value:function(){this.mounted=!1;try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.lectureId])}catch(e){console.log(e)}this.completeStatus=null}},{key:"componentDidUpdate",value:function(e){if(this.mounted&&e.lectureId!==this.props.lectureId){try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.lectureId])}catch(t){console.log(t)}this.completeStatus=null}}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&this.props.swipeEvent!==e.swipeEvent&&(e.swipeEvent?this.mouseEnterHandler():this.mouseLeaveHandler()),this.mounted&&e.lectureId&&this.state.lectureId!==e.lectureId&&this.setContent(this.props.courseId,e.lectureId)}},{key:"render",value:function(){var e=0===this.state.opacity?"preview-area custom-scroller full-height":"preview-area custom-scroller",t=this.state.contentLoaded?{minHeight:"85vh"}:{};return n.a.createElement("div",{ref:"htmlContent",className:e},n.a.createElement("div",{className:"active-topbar",onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler}),n.a.createElement(Ke,null),n.a.createElement(Je,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}),n.a.createElement("div",{className:"lecture-holder"},n.a.createElement("div",{className:"context-holder document-context custom-scroller"},n.a.createElement("div",{className:"context",style:t,dangerouslySetInnerHTML:{__html:this.state.content}}))),n.a.createElement(Qe,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}))}}]),t}(r.Component),et=Object(w.b)(function(e){return{currOpen:e.currOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})($e),tt=a(29),at=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.timer=null,a.intervalObj=null,a.previousTime=0,a.previousAction=null,a.completeStatus=null,a.state={currLecture:null,timer:0,cue:0,percentage:0,swipeEvent:!1,opacity:1,seeked:!1},a.onPercentageUpdate=function(e){var t=e.target.getCurrentTime(),r=e.target.getDuration(),n=Math.ceil(t/r*100),s=a.state.timer,c=a.state.currLecture.cl_access_limit_percentage?+a.state.currLecture.cl_access_limit_percentage:100;if(c=c>0?c:100,e.seconds%5!==0&&a.mounted){var i={timer:Math.ceil(t),cue:t,percentage:n};Math.abs(a.previousTime-t)>10&&(console.log("seeked"),i.seeked=!0),a.setState(Object(b.a)({},i),function(){if((s!==a.state.timer||100===n)&&!a.state.seeked){var t=!!(n>=c||e.completed);a.completeStatus=JSON.stringify({percentage:n,cue:a.state.cue,lectureId:a.props.currLecture.id,completed:t}),window.lecure_logs[a.props.currLecture.id]={lecture_id:a.props.currLecture.id,percentage:n,cue:a.state.cue,views:t?1:0}}})}a.previousTime=t,e.completed&&a.mounted&&(a.state.seeked||(a.props.onPercentageUpdate({percentage:n,cue:a.state.cue,lectureId:a.props.currLecture.id,completed:!0}),a.completeStatus=null,delete window.lecure_logs[a.props.currLecture.id]),a.props.onComplete())},a.mouseEnterHandler=function(){a.timer&&clearTimeout(a.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){!a.mounted||a.props.currOpen||a.props.isPreview||(a.timer=setTimeout(function(){a.mounted&&!1===y()&&a.setState({opacity:0})},4e3))},a._handlePlay=function(e){a.intervalObj&&clearInterval(a.intervalObj),a.intervalObj=setInterval(function(){a.onPercentageUpdate(Object(b.a)({},e,{completed:!1}))},5e3)},a._handlePause=function(e){a.intervalObj&&clearInterval(a.intervalObj),a.onPercentageUpdate(Object(b.a)({},e,{completed:!1}))},a._handleEnd=function(e){a.intervalObj&&clearInterval(a.intervalObj),a.onPercentageUpdate(Object(b.a)({},e,{completed:!0}))},a._handleReady=function(e){e.target.seekTo(a.state.cue)},a._handlePlayerStateChange=function(e){var t=e.target,r=e.data;if(3===r){var n=t.getCurrentTime();if(!a.previousAction||2!==a.previousAction)return console.log("action"),r;if(Math.abs(a.previousTime-n)>1)return console.log("_handlePlayerStateChange seeked"),"Seek";a.previousTime=n,a.previousAction=r}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.completeStatus=null,this.mounted&&this.props.currLecture){var e=this.props.currLecture.percentage;if(e<100){var t=this.props.currLecture.cl_duration*e/100;t=0===t&&0!==+this.props.currLecture.cue?+this.props.currLecture.cue:t,this.setState({currLecture:Object(b.a)({},this.props.currLecture),cue:t}),this.previousTime=t}else this.setState({currLecture:Object(b.a)({},this.props.currLecture)})}this.mouseLeaveHandler()}},{key:"componentDidUpdate",value:function(e){if(this.mounted=!0,this.mounted&&"undefined"!==typeof this.props.currLecture.id&&+this.props.currLecture.id!==+this.state.currLecture.id&&this.setState({currLecture:Object(b.a)({},this.props.currLecture)}),this.mounted&&e.currLecture&&e.currLecture.id!==this.props.currLecture.id){try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.currLecture.id])}catch(t){console.log(t)}this.completeStatus=null}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.currLecture.id])}catch(e){console.log(e)}this.completeStatus=null}},{key:"componentWillReceiveProps",value:function(e){this.props.swipeEvent!==e.swipeEvent&&this.setState({swipeEvent:e.swipeEvent})}},{key:"youtube_parser",value:function(e){return void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_-]/i)[0]:e}},{key:"render",value:function(){var e=this.youtube_parser(this.props.videoId),t=this.props.videoHeight;return n.a.createElement("div",{style:{backgroundColor:"#000"},className:"video-lecture youtube_video"},n.a.createElement("div",{className:"active-topbar",onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler}),n.a.createElement(me,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent}),n.a.createElement("div",{className:"video-container"},n.a.createElement(tt.a,{id:"youtube",width:"100%",height:1===this.state.opacity?t:"100%",video:e,controls:!0,paused:this.props.descModalOpen,autoplay:this.props.autoPlay,startSeconds:this.state.cue,modestBranding:!0,showRelatedVideos:!1,onPlaying:this._handlePlay,onPause:this._handlePause,onEnd:this._handleEnd,onReady:this._handleReady,onStateChange:this._handlePlayerStateChange})),n.a.createElement(Se,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent}))}}]),t}(r.Component),rt=Object(w.b)(function(e){return{currLecture:e.currLecture,currOpen:e.currOpen,dissOpen:e.dissOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug,descModalOpen:e.descModalOpen}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(at),nt=a(52),st=a.n(nt),ct=(a(105),a(107),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.timer=null,a.previousTime=0,a.completeStatus=null,a.state={timer:0,cue:0,percentage:0,currLecture:null,swipeEvent:!1,opacity:1,seeked:!1},a.onPercentageUpdate=function(e){var t=a.state.timer,r=a.props.currLecture.cl_access_limit_percentage?+a.props.currLecture.cl_access_limit_percentage:100;if(r=r>0?r:100,e.now%5!==0&&a.mounted){var n=e.now/e.duration*100,s={timer:Math.ceil(e.now),cue:e.now,percentage:n};Math.abs(a.previousTime-e.now)>10&&(console.log("seeked"),s.seeked=!0),a.setState(Object(b.a)({},s),function(){if((t!==a.state.timer||100===n)&&!a.state.seeked){var s=!!(n>=r||e.completed);a.completeStatus=JSON.stringify({percentage:n,cue:a.state.cue,lectureId:a.props.currLecture.id,completed:s}),window.lecure_logs[a.props.currLecture.id]={lecture_id:a.props.currLecture.id,percentage:n,cue:a.state.cue,views:s?1:0}}})}a.previousTime=e.now,e.completed&&a.mounted&&(a.state.seeked||(a.props.onPercentageUpdate({percentage:100,cue:a.state.cue,lectureId:a.props.currLecture.id,completed:!0}),a.completeStatus=null,delete window.lecure_logs[a.props.currLecture.id]),a.props.onComplete())},a.mouseEnterHandler=function(){a.timer&&clearTimeout(a.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.mounted=!0,this.completeStatus=null,this.mounted&&this.props.currLecture){var e=this.props.currLecture.percentage;if(e<100){var t=this.props.currLecture.cl_duration*e/100;t=0===t&&0!==+this.props.currLecture.cue?+this.props.currLecture.cue:t,this.setState({cue:t}),this.previousTime=t}this.setState({currLecture:Object(b.a)({},this.props.currLecture)})}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.onPercentageUpdate=null;try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.currLecture.id])}catch(e){console.log(e)}this.completeStatus=null}},{key:"componentDidUpdate",value:function(e){if(this.props.currLecture&&"undefined"!==typeof this.props.currLecture.id&&"undefined"!==typeof this.state.currLecture.id&&+this.props.currLecture.id!==+this.state.currLecture.id&&this.props.audioId&&this.setState({currLecture:Object(b.a)({},this.props.currLecture)}),this.mounted&&e.currLecture&&e.currLecture.id!==this.props.currLecture.id){try{this.completeStatus&&(this.props.onPercentageUpdate(JSON.parse(this.completeStatus)),delete window.lecure_logs[this.props.currLecture.id])}catch(t){console.log(t)}this.completeStatus=null}}},{key:"componentWillReceiveProps",value:function(e){this.props.swipeEvent!==e.swipeEvent&&e.swipeEvent&&this.setState({swipeEvent:e.swipeEvent})}},{key:"render",value:function(){var e=this,t=this.props.config.mp3Url.replace("{audioId}",this.props.audioId);t=t.replace("{courseId}",this.props.courseId);var a=null;return this.state.currLecture&&(a=n.a.createElement(st.a,{type:"audio",url:t,className:"audio-player",seekTime:600,autoplay:this.props.autoPlay,onEnd:function(){e.onPercentageUpdate({percentage:100,completed:!0})},onReady:function(){document.querySelector(".audio-player").currentTime=e.state.cue},onTimeUpdate:function(t){return e.onPercentageUpdate(Object(b.a)({},t,{completed:!1}))},controls:["mute","progress","duration","play"]})),n.a.createElement("div",{className:"lecture-content",style:{backgroundColor:"#000"}},n.a.createElement("div",{className:"mp3-header"},n.a.createElement(me,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent})),n.a.createElement("div",{className:"plyr-audio"},a),n.a.createElement(Se,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,swipeEvent:this.state.swipeEvent}))}}]),t}(r.Component)),it=Object(w.b)(function(e){return{config:e.config,currLecture:e.currLecture,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(ct),ot=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.completed=!1,a.state={activeTab:0,opacity:1,timer:null,courseId:0,lectureId:0,assessmentData:null,childWindow:null,windowTimer:null,testProgress:!1,assessLoading:!0,readMore:!0,aData:null,attemptData:null,attemptable:!1},a.tabSwitchHandler=function(e){a.mounted&&a.setState({activeTab:e})},a.reportRedirectHandler=function(e){a.getAssessmentData().then(function(t){t&&(setTimeout(function(){window.location.href=e.detail},100),+t.assessment.attempt_data.aa_completed&&!a.completed&&(a.completed=!0,a.props.onPercentageUpdate({percentage:100,cue:0,lectureId:a.props.lectureId,completed:!0})))}).catch(function(e){return console.log(e)})},a.quizHandler=function(){console.log("handler called"),a.setState({testProgress:!1},function(){a.getAssessmentData().then(function(e){e&&+e.assessment.attempt_data.aa_completed&&!a.completed&&(a.completed=!0,a.props.onPercentageUpdate({percentage:100,cue:0,lectureId:a.props.lectureId,completed:!0}))}).catch(function(e){return console.log(e)})})},a.setAssessmentData=function(){var e={header:{service:"",method:"assessment"},body:{course_id:a.props.match.params.courseId,lecture_id:a.props.lectureId}};return H.post("/content",JSON.stringify(e),{withCredentials:!0}).then(function(t){if(!t.data||!a.mounted)return!1;if(t.data.header.error)return 604===t.data.header.code?(console.log("exit => ",e,t.data),Q(a.props.match.params.courseId,a.props.isPreview,a.props.courseSlug)):t.data.header.message;if(a.mounted){var r=Object(b.a)({},t.data.body),n=r.assessment?Object(b.a)({},r.assessment.a_data):null,s=r.assessment&&r.assessment.attempt_data?Object(b.a)({},r.assessment.attempt_data):null;return a.setState({assessmentData:r,assessLoading:!1,aData:n,attemptData:s,attemptable:r.assessment.attemptable}),!0}return!1})},a.mouseEnterHandler=function(){a.state.timer&&clearTimeout(a.state.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){},a.checkChildWindow=function(){a.mounted&&a.state.childWindow.closed&&(a.quizHandler(),clearInterval(a.state.windowTimer))},a.startAssessmentHandler=function(e){var t=new URL(e);a.props.token&&t.searchParams.append("token",a.props.token);var r,n=t.href;if(ee())return a.setState({testProgress:!0}),r=n,window.webkit.messageHandlers.doStuffMessageHandler.postMessage({action:"openquizwindow",quiz_url:r});var s=function(e,t){var a,r;return r=(r=(r="status=0,toolbar=0")+",width="+(window.screen.availWidth-10).toString())+",height="+(window.screen.availHeight-122).toString(),r+=",screenX=0,screenY=0,left=0,top=0",(a=window.open("",t,r)).location=e,a.focus(),a.moveTo(0,0),a.resizeTo(window.screen.availWidth,window.screen.availHeight),a}(n,"Assessment - SDPK"),c=setInterval(a.checkChildWindow,500);a.setState({testProgress:!0,childWindow:s,windowTimer:c})},a.readMore=function(){a.mounted&&a.setState({readMore:!1})},a.handleButtonClick=function(){var e=a.props.config,t=Object(b.a)({},a.state.aData),r=e.assessmentUrl.replace("{testId}",t.id);return!a.state.testProgress&&a.state.attemptable?(a.completed=!1,a.startAssessmentHandler(r)):null},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mouseLeaveHandler(),this.mounted=!0,this.completed=!1;var e=this.props.match.params.tab?parseInt(this.props.match.params.tab):0;e=isNaN(e)?0:e,e=[0,1].indexOf(e)>-1?e:0,this.setAssessmentData().catch(function(e){return console.log(e)}),this.setState({courseId:this.props.courseId,lectureId:this.props.lectureId,activeTab:e}),window.addEventListener("redirect_report",this.reportRedirectHandler,!1),ee()&&window.addEventListener("quiz_close",this.quizHandler,!1)}},{key:"componentDidUpdate",value:function(e){this.mounted&&+e.lectureId!==+this.props.lectureId&&(this.completed=!1,this.setState({lectureId:this.props.lectureId,readMore:!0,assessLoading:!0,assessmentData:null,activeTab:0}),this.setAssessmentData().catch(function(e){return console.log(e)}))}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&+e.lectureId!==+this.props.lectureId&&(this.completed=!1,this.setState({assessLoading:!0,assessmentData:null}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.completed=!1,window.removeEventListener("redirect_report",this.reportRedirectHandler,!1),window.removeEventListener("quiz_close",this.quizHandler,!1)}},{key:"getAssessmentData",value:function(){var e=this,t={header:{service:"",method:"assessment"},body:{course_id:this.props.match.params.courseId,lecture_id:this.props.lectureId}};return H.post("/content",JSON.stringify(t),{withCredentials:!0}).then(function(t){if(!t.data||t.data.header.error)return!1;var a=Object(b.a)({},t.data.body),r=a.assessment&&a.assessment.attempt_data?Object(b.a)({},a.assessment.attempt_data):null;return e.setState({attemptData:r,attemptable:a.assessment.attemptable}),t.data.body})}},{key:"render",value:function(){var e=this,t=this.props.config,a=n.a.createElement("div",{id:"instruction",className:"tabcontent context custom-scroller"},n.a.createElement("p",{className:"text-center"},"Loading Instructions...")),r=n.a.createElement("div",{id:"result",className:"tabcontent context custom-scroller"},n.a.createElement("p",{className:"text-center"},"Loading Result...")),s={};if(!this.state.assessLoading){var c=Object(b.a)({},this.state.aData),i=null,o=!0;if("undefined"!==typeof(s=Object(b.a)({},this.state.attemptData)).id){var l=new URL("".concat(t.apiUrl,"/material/assesment_report_item/").concat(s.id));this.props.token&&l.searchParams.append("token",this.props.token),i=l.href,o=!!+s.aa_valuated}var u=null;o&&+s.aa_completed?i&&(u=this.props.token?n.a.createElement("a",{className:"view-report-btn",href:i},"View Report"):null):u=+s.aa_completed?n.a.createElement("span",{className:"view-report-btn"},"Waiting Result"):n.a.createElement("span",{className:"view-report-btn"},"Test on Progress");var d=["tabcontent","context","custom-scroller"];this.state.readMore&&d.push("content-read-toggle");var p="";try{p=JSON.parse(c.a_instructions)}catch(v){p=c.a_instructions}a=n.a.createElement(D,null,n.a.createElement("div",{id:"instruction",className:d.join(" ")},n.a.createElement("div",{className:"quiz-instruction-tags"},n.a.createElement("div",null,n.a.createElement("span",null,c.a_questions),n.a.createElement("span",null,"Questions")),n.a.createElement("div",null,n.a.createElement("span",null,c.a_duration),n.a.createElement("span",null,"Min")),n.a.createElement("div",null,n.a.createElement("span",null,c.a_mark),n.a.createElement("span",null,"Marks"))),n.a.createElement("div",{className:"locked-content-info text-center",dangerouslySetInnerHTML:{__html:p[1]}}),this.state.readMore?n.a.createElement("div",{onClick:this.readMore,className:"read-more"},"Read More"):null),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{style:{cursor:!this.state.testProgress&&this.state.attemptable?"pointer":"not-allowed"},onClick:this.handleButtonClick,className:"btn-violet"},this.state.testProgress?"On Progress":0===+s.aa_completed?"Resume Quiz":"Start Quiz"))),r=n.a.createElement("div",{id:"result",className:"tabcontent context custom-scroller"},n.a.createElement("span",{className:"instruction-info"},n.a.createElement("span",{className:"submision-date"},"undefined"!==typeof s.id?s.aa_attempted_date:" - ")),n.a.createElement("div",{className:"result-wrapper"},n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"marks"},"undefined"!==typeof s.id&&s.aa_mark_scored&&o?s.aa_mark_scored:" - "),n.a.createElement("span",{className:"result-info-title"},"Marks Scored")),n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"quiz-timetaken"},"undefined"!==typeof s.id&&"00:00"!==s.aa_duration&&o?s.aa_duration:" - "),n.a.createElement("span",{className:"result-info-title"},"Time Taken")),n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"grade"},"undefined"!==typeof s.id&&o?s.aa_grade:" - "),n.a.createElement("span",{className:"result-info-title"},"Grade"))),n.a.createElement("div",{className:"text-center btn-container"},u,n.a.createElement("button",{className:"btn-violet",style:{cursor:!this.state.testProgress&&this.state.attemptable?"pointer":"not-allowed"},onClick:this.handleButtonClick,type:""},+s.aa_completed?"Retry Quiz":"Resume Quiz")))}var m=0===this.state.activeTab?a:r,h=[];return h[0]=["tab","tablinks"],h[1]=["tab","tablinks"],h[this.state.activeTab].push("active"),n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Ke,null),n.a.createElement(Je,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}),n.a.createElement("div",{className:"lecture-holder quiz-content text-center"},n.a.createElement("div",null,n.a.createElement("h2",null,"Quiz")),n.a.createElement("div",{className:"content-toggle-tab",style:{display:"inline-block"}},n.a.createElement("div",{className:h[0].join(" "),onClick:function(){return e.tabSwitchHandler(0)}},"Instructions"),n.a.createElement("div",{style:{cursor:"undefined"!==typeof s.id?"pointer":"not-allowed"},disabled:"undefined"!==typeof s.id||this.state.assessLoading,className:h[1].join(" "),onClick:function(){return"undefined"!==typeof s.id?e.tabSwitchHandler(1):null}},"Result")),n.a.createElement("div",{className:"context-holder"},m)),n.a.createElement(Qe,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}))}}]),t}(r.Component),lt=Object(w.b)(function(e){return{config:e.config,courseId:e.subscription.id?e.subscription.cs_course_id:0,lectureId:e.currLecId,currOpen:e.currOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug,token:e.token}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Object(v.a)(ot)),ut=(a(109),a(53)),dt=a.n(ut),pt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={opacity:1,timer:null,courseId:0,currLecture:null},a.mouseEnterHandler=function(){a.state.timer&&clearTimeout(a.state.timer),a.state.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){},a.playScorm=function(e){if(ee())return t=e,window.webkit.messageHandlers.doStuffMessageHandler.postMessage({action:"openscormwindow",scorm_url:t});var t;window.open(e,"Scorm - SDPK","toolbar=0,status=0,width="+window.screen.availWidth+",height="+window.screen.availWidth),a.props.onPercentageUpdate({percentage:100,cue:0,lectureId:a.props.lectureId,completed:!0})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.props.currLecture&&(this.setState({currLecture:Object(b.a)({},this.props.currLecture)}),this.mouseLeaveHandler())}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&e.currLecture&&+e.currLecture.id!==+this.props.currLecture.id&&this.setState({currLecture:Object(b.a)({},e.currLecture)}),this.mounted&&this.props.swipeEvent!==e.swipeEvent&&(e.swipeEvent?this.mouseEnterHandler():this.mouseLeaveHandler())}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.props.config,a=Object(b.a)({},this.state.currLecture),r=null;if(a){var s=t.scormUrl.replace("{scormPath}",a.cl_filename);s=s.replace("{courseId}",this.state.courseId),r=n.a.createElement("div",{className:"context"},n.a.createElement("p",{className:"scorm-info"},"This is a packaged content. Press play button to view the lecture content."),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{onClick:function(){return e.playScorm(s)},className:"btn-violet"},"Play")))}return n.a.createElement(D,null,n.a.createElement("div",{className:"preview-area"},n.a.createElement("span",{className:"scorm-header"},n.a.createElement(Je,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity})),n.a.createElement("div",{className:"lecture-holder scorm-holder",id:"lecture_holder"},n.a.createElement("div",{className:"context-holder"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{className:"lock-img",src:dt.a,alt:""})),n.a.createElement("h5",{className:"locked-title scorm-title"},"Scorm Package"),r)),n.a.createElement(Qe,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity})))}}]),t}(r.Component),mt=Object(w.b)(function(e){return{config:e.config,courseId:e.subscription.id?e.subscription.cs_course_id:0,currOpen:e.currOpen,currLecture:e.currLecture?Object(b.a)({},e.currLecture):null,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(pt),ht=a(57),vt=(a(111),a(113),function(e){return n.a.createElement("span",{onClick:function(){return e.downloadHandler(e.downloadData)},className:"attachment-tag"},n.a.createElement("svg",{style:{verticalAlign:"middle"},version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"25px",n:"true",height:"20px",viewBox:"0 0 40 32",enableBackground:"new 0 0 40 32",xmlSpace:"preserve"}," ",n.a.createElement("g",null," ",n.a.createElement("g",null," ",n.a.createElement("g",null," ",n.a.createElement("path",{fill:"#713EA7",d:"M16.313,23.501c-0.845,0-1.683-0.32-2.323-0.96c-1.28-1.28-1.28-3.373,0-4.652l1.242,1.24c-0.288,0.289-0.448,0.68-0.448,1.089s0.16,0.794,0.448,1.088c0.583,0.583,1.594,0.583,2.176,0l1.241,1.241C18.003,23.181,17.158,23.501,16.313,23.501z"})," ")," ",n.a.createElement("g",null," ",n.a.createElement("g",null," ",n.a.createElement("path",{fill:"#713EA7",d:"M14.611,18.509"})," ")," ",n.a.createElement("g",null," ",n.a.createElement("path",{fill:"#713EA7",d:"M15.398,27.539c-1.651,0-3.296-0.627-4.55-1.881c-1.216-1.217-1.888-2.83-1.888-4.551c0-1.639,0.608-3.182,1.715-4.378l-0.013-0.013l10.822-10.81l0,0c0.916-0.89,2.119-1.382,3.398-1.382c1.307,0,2.528,0.505,3.45,1.427c0.921,0.921,1.427,2.144,1.427,3.449c0,1.223-0.447,2.375-1.261,3.271l0.007,0.006l-0.141,0.141c-0.014,0.013-0.02,0.019-0.032,0.032l0,0L18.33,22.854l-1.242-1.241l10.067-10.068c0.55-0.582,0.851-1.344,0.851-2.15c0-0.832-0.326-1.619-0.914-2.208c-1.178-1.177-3.238-1.177-4.423,0L12.083,17.785l0.007,0.007c-0.883,0.884-1.37,2.062-1.37,3.315s0.486,2.426,1.37,3.314c1.824,1.824,4.793,1.824,6.617,0.007l11.092-11.091l1.241,1.242L19.718,25.895l-0.006-0.006C18.49,26.988,16.947,27.539,15.398,27.539z"})," ")," ")," ")," ",n.a.createElement("g",null," ",n.a.createElement("path",{fill:"#713EA7",d:"M14.611,18.509"})," ")," ",n.a.createElement("g",null," ",n.a.createElement("rect",{x:"12.665",y:"12.942",transform:"matrix(-0.7071 0.7071 -0.7071 -0.7071 42.7109 9.9459)",fill:"#713EA7",width:"13.26",height:"1.754"})," ")," ")),e.fileName)}),ft=["doc","docx","pdf","xls","xlsx","ppt","pptx"],gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text-danger",a=document.getElementById("redactor_upload_status");a&&a.parentNode.removeChild(a);var r=document.createElement("DIV"),n=document.createTextNode(e);r.appendChild(n),r.classList.add("text-center","file-types",t),r.setAttribute("id","redactor_upload_status"),document.querySelector(".redactor-modal-body").appendChild(r)},yt=function(){var e=document.getElementById("redactor_upload_status");e&&e.parentNode.removeChild(e)},bt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={activeTab:0,opacity:1,timer:null,courseId:0,course:null,subscription:null,currLecture:null,lectureId:0,assignmentData:null,showSuccess:null,submisionData:{files:[],description:null},submitting:!1,assignMentLoading:!0,readMore:!0},a.loadAssignmentData=function(){var e={header:{service:"",method:"assignment"},body:{course_id:a.props.match.params.courseId,lecture_id:a.props.lectureId}};a.mounted&&a.setState({assignMentLoading:!0}),H.post("/content",JSON.stringify(e),{withCredentials:!0}).then(function(t){if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",e,t.data),Q(a.props.match.params.courseId,a.props.isPreview,a.props.courseSlug);console.log(t.data.header.message)}else a.mounted&&a.setState({assignmentData:Object(b.a)({},t.data.body),assignMentLoading:!1,submisionData:{files:[],description:null},submitting:!1})}).catch(function(e){})},a.downloadHandler=function(e){var t=a.props.config.materialUrl.replace("{courseId}",a.state.courseId);switch(t=t.replace("{purpose}",e.source),e.source){case"assignment":t=t.replace("{file}",e.file_name);break;case"assignment_submission":t=t.replace("{file}",e.encrypted)}if(ee())return ae(t);var r=document.createElement("a");r.href=t,r.download=e.name.split("?v=")[0],r.click()},a.tabSwitchHandler=function(e){a.mounted&&a.setState({activeTab:e})},a.mouseEnterHandler=function(){a.state.timer&&clearTimeout(a.state.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){},a.redactorChangedHandler=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e||window.$R("#submision_editor","source.getCode").trim(),r=Object(b.a)({},a.state.submisionData);r.description=t,a.setState({submisionData:Object(b.a)({},r)})},a.submitHandler=function(){var e={header:{service:"",method:"assignment_submission"},body:{course_id:a.state.courseId,lecture_id:a.state.lectureId,subscribe_id:a.state.subscription.id,assignment_name:a.state.currLecture.cl_lecture_name,course_name:a.state.course.cb_title,files:Object(z.a)(a.state.submisionData.files),comments:a.state.submisionData.description}};a.refs.fileTarget.innerHTML="",a.setState({submitting:!0}),H.post("/content",JSON.stringify(e),{withCredentials:!0}).then(function(e){e.data.header.error||a.mounted&&(a.loadAssignmentData(),a.props.onPercentageUpdate({percentage:100,cue:0,lectureId:a.state.lectureId,completed:!0}),a.setState({showSuccess:!0}),setTimeout(function(){a.mounted&&a.setState({showSuccess:!1})},2e3)),a.setState({submitting:!1})}).catch(function(e){})},a.readMore=function(){a.mounted&&a.setState({readMore:!1})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mouseLeaveHandler(),this.mounted=!0;var t=this.props.match.params.tab?parseInt(this.props.match.params.tab):0;t=isNaN(t)?0:t,t=[0,1,2].indexOf(t)>-1?t:0,this.mounted&&(this.setState({courseId:this.props.courseId,lectureId:this.props.lectureId,course:this.props.course,currLecture:this.props.currLecture,subscription:this.props.subscription,activeTab:t},function(){e.props.lectureId&&e.loadAssignmentData()}),this.mouseLeaveHandler())}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.mounted&&this.props.currLecture&&(+e.currLecture.id!==+this.props.currLecture.id||e.lectureId!==this.props.lectureId)&&this.setState({lectureId:this.props.lectureId,currLecture:this.props.currLecture,activeTab:0,assignmentData:null,readMore:!0},function(){a.loadAssignmentData()})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&this.props.swipeEvent!==e.swipeEvent&&(e.swipeEvent?this.mouseEnterHandler():this.mouseLeaveHandler())}},{key:"deleteFile",value:function(e){var t=this,a={header:{service:"",method:"remove_assignment_file"},body:{file:e}};H.post("/content",JSON.stringify(a),{withCredentials:!0}).then(function(a){var r=Object(z.a)(t.state.submisionData.files);return r.splice(r.findIndex(function(t){return t.encrypted===e}),1),t.setState({submisionData:Object(b.a)({},t.state.submisionData,{files:Object(z.a)(r)})}),!0}).catch(function(e){return!1})}},{key:"render",value:function(){var e=this,t=[];t[0]=["tab","tablinks"],t[1]=["tab","tablinks"],t[2]=["tab","tablinks"],t[this.state.activeTab].push("active");var a=null,r=this.state.assignmentData,s=this.state.submisionData.files.length;if(r&&this.state.currLecture){r.a_data.dt_uploded_files=r.a_data.dt_uploded_files?r.a_data.dt_uploded_files:"";for(var c=""!==r.a_data.dt_uploded_files?JSON.parse(r.a_data.dt_uploded_files):[],i=[],o=Object.entries(c),l=0;l<o.length;l++){var u=o[l],d=Object(ht.a)(u,2),p=d[0],m=d[1];i.push(n.a.createElement(vt,{idNum:p,downloadHandler:this.downloadHandler,downloadData:Object(b.a)({},m,{source:"assignment"}),key:m.file_name,fileName:m.name}))}switch(this.state.activeTab){case 1:a=n.a.createElement(D,null,n.a.createElement("div",{id:"submision",className:"tabcontent context custom-scroller"},n.a.createElement("div",{className:"text-center"},n.a.createElement("ul",{className:"instruction-list"},n.a.createElement("li",null,"Upload atleast one file from the upload icon in the editor."),n.a.createElement("li",null,"Add description if needed."),n.a.createElement("li",null,"Once submitted, cannot be edited."),n.a.createElement("li",{className:"file-types"},"Supported files : .doc,.docx,.pdf,.xls,.xlsx,.ppt and .pptx"))),n.a.createElement("textarea",{style:{visibility:"hidden"},value:this.state.submisionData.description?this.state.submisionData.description:"",onChange:function(){},id:"submision_editor",className:"form-control"}),n.a.createElement("div",{ref:"fileTarget",id:"file-target",className:"attachment-holder"}),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{className:"btn-violet assgn-submit",disabled:!s,onClick:s?this.submitHandler:null,style:{cursor:s?"pointer":"not-allowed"},type:""},this.state.submitting?"Submitting...":"Submit"))));break;case 2:var h="";if(r.submitted){var v=JSON.parse(r.submission.dtua_comments);if(v.length>1){var f=Object(z.a)(v);f=(f=f.filter(function(e,t,a){return 0!==t})).map(function(e,t){return n.a.createElement("div",{key:t,className:"faculty-feedback"},n.a.createElement("h4",null,"Comment ",t+1),n.a.createElement("p",null,e.comment))}),h=n.a.createElement("div",{className:"feedback-container"},n.a.createElement("div",{className:"text-center"},n.a.createElement("span",{className:"faculty-title"},"Faculty Feedback"),f))}}a=n.a.createElement("div",{id:"result",className:"tabcontent context custom-scroller"},r.submitted&&+r.submission.dtua_evaluated?"":n.a.createElement("span",{className:"result-notice"},"Awaiting for result"),n.a.createElement("div",{className:"result-wrapper"},n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"result-info-title"},"Submitted On"),n.a.createElement("span",{className:"submition-date"},r.submitted?r.submission.created_date:" - ")),n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"marks"},r.submitted&&+r.submission.dtua_evaluated?r.submission.mark:" - "),n.a.createElement("span",{className:"result-info-title"},"Marks Scored")),n.a.createElement("div",{className:"result-info"},n.a.createElement("span",{className:"grade"},r.submitted&&+r.submission.dtua_evaluated?r.submission.dtua_grade:" - "),n.a.createElement("span",{className:"result-info-title"},"Grade"))),h);break;default:var g=["tabcontent","context","custom-scroller"];this.state.readMore&&g.push("content-read-toggle");var y="Continue";r.submitted?y="Submitted":r.expired&&(y="Expired"),a=n.a.createElement(D,null,n.a.createElement("div",{id:"instruction",className:g.join(" ")},n.a.createElement("span",{className:"instruction-info"},r.expired&&!r.submitted?"Expired on - ":"Submit Before - ",n.a.createElement("span",{className:"submision-date"},r.a_data.dt_last_date)),n.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.currLecture.cl_lecture_content}}),n.a.createElement("div",{ref:"fileTarget",id:"file-target",className:"hidden attachment-holder"}),i.length>0&&n.a.createElement("div",{className:"attachment-holder"},i),this.state.readMore?n.a.createElement("div",{onClick:this.readMore,className:"read-more"},"Read More"):null),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{onClick:function(){return!r.expired||r.submitted?e.tabSwitchHandler(1):null},style:{cursor:!r.expired||r.submitted?"pointer":"not-allowed"},className:"btn-violet",type:""},y)))}if(1!==this.state.activeTab||r.submitted){if(window.$R("#submision_editor","destroy"),1===this.state.activeTab&&r.submitted){var w=JSON.parse(r.submission.dtua_comments),E=JSON.parse(w[0].file);E=E.map(function(t,a){return n.a.createElement(vt,{downloadHandler:e.downloadHandler,downloadData:Object(b.a)({},t,{source:"assignment_submission"}),key:t.encrypted,fileName:t.file})}),a=n.a.createElement("div",{id:"submision",className:"tabcontent context custom-scroller"},n.a.createElement("div",{dangerouslySetInnerHTML:{__html:w[0].comment}}),n.a.createElement("div",{className:"attachment-holder"},E))}}else{var L=this.props.config.redactorUploadUrl.replace("{courseId}",this.state.courseId);L=L.replace("{purpose}","assignment_submission"),setTimeout(function(){window.$R("#submision_editor",{minHeight:"200px",maxHeight:"200px",toolbarFixed:!1,styles:!0,shortcuts:!0,callbacks:{file:{uploaded:function(t,a){var r=Object(b.a)({},e.state.submisionData);r.files.push({file:a["filekey-0"].name,encrypted:a["filekey-0"].file_name}),e.setState({submisionData:Object(b.a)({},r)})},delete:function(t){return t=t.nodes[0].dataset.file,e.deleteFile(t)}},upload:{beforeSend:function(e){try{gt("Uploading...","text-success");for(var t=document.querySelector(".redactor-modal-tab input[type=file]").files,a=[],r=0;r<t.length;r++){var n=t[r],s=n.name.split("."),c=s.pop();-1===ft.indexOf(c)||0===s.length?a.push("Invalid file type for ".concat(n.name,".")):n.size>1e7&&a.push("File size exceeded 10 MB for ".concat(n.name,"."))}if(a.length>0)return gt(a.join(" ")),this.progress.hide(),!1}catch(i){}},complete:function(e){yt()},error:function(e){yt()}},keyup:function(t){e.redactorChangedHandler(t.target.innerHTML)},pasted:function(){e.redactorChangedHandler()}},fileUpload:L,fileAttachment:"#file-target"})},100)}1===this.state.activeTab&&r.expired&&!r.submitted&&(a=n.a.createElement("div",{id:"submision",className:"tabcontent context custom-scroller"},n.a.createElement("span",{className:"result-notice"},"Sorry Submission is not allowed as it is expired.")))}return this.state.showSuccess&&(a=n.a.createElement("span",{className:"result-success"},"Submitted successfully.")),n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Ke,null),n.a.createElement(Je,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}),n.a.createElement("div",{className:"lecture-holder text-center"},n.a.createElement("div",null,n.a.createElement("h2",null,"Assignment")),n.a.createElement("div",{className:"content-toggle-tab",style:{display:"inline-block"}},n.a.createElement("div",{className:t[0].join(" "),onClick:function(){return e.tabSwitchHandler(0)},id:"defaultOpen"},"Instructions"),n.a.createElement("div",{className:t[1].join(" "),onClick:function(){return!r||!r.submitted&&r.expired?null:e.tabSwitchHandler(1)},style:{cursor:!r||!r.submitted&&r.expired?"not-allowed":"pointer"}},"Submission"),n.a.createElement("div",{className:t[2].join(" "),style:{cursor:r&&!r.submitted?"not-allowed":"pointer"},onClick:function(){return r&&!r.submitted?null:e.tabSwitchHandler(2)}},"Result")),n.a.createElement("div",{className:"context-holder"},this.state.assignMentLoading?null:a)),n.a.createElement(Qe,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}))}}]),t}(r.Component),wt=Object(w.b)(function(e){return{config:e.config,courseId:e.subscription.id?e.subscription.cs_course_id:0,lectureId:e.currLecId,currOpen:e.currOpen,subscription:e.subscription,course:e.course,currLecture:e.currLecture,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Object(v.a)(bt)),Et=a(54),Lt=a.n(Et),Ot=function(e){return n.a.createElement("div",{className:"lecture-holder certificate-holder"},n.a.createElement("div",{className:"context-holder certificate-context"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{className:"lock-img",src:Lt.a,alt:""})),n.a.createElement("h5",{className:"locked-title"},"Generate Your Certificate"),n.a.createElement("div",{className:"context"},n.a.createElement("p",{className:"scorm-info text-justify"},"Once you have completed this certificate course, you have the option to acquire official Certification, which is a great way to share your achievemnet with the world"),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{className:"btn-violet",onClick:e.generating?null:e.generate,type:""},e.generating?"Generating...":"Generate Now")))))},_t=function(e){return n.a.createElement("div",{className:"lecture-holder"},n.a.createElement("div",{className:"context-holder"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{style:{width:"60%",marginBottom:"0px"},className:"img-responsive1",src:e.certUrl,alt:""})),n.a.createElement("div",{className:"text-center btn-container",style:{marginBottom:"40px",padding:"10px 0 30px 0"}},n.a.createElement("button",{className:"btn-violet",onClick:e.downloadCert,type:""},"Download"))))},St="".concat(window.location.protocol,"//").concat(window.location.host,"/dashboard/profile"),Nt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={opacity:1,timer:null,certUrl:null,generating:!1,currLecture:null,loaded:!1,modalClasses:"modal-container"},a.getCert=function(){var e={header:{service:"",method:"download_certificate"},body:{course_id:a.props.match.params.courseId,lecture_id:a.props.match.params.lectureId}};H.post("/content",JSON.stringify(e),{withCredentials:!0}).then(function(e){a.mounted&&a.setState({loaded:!0}),e.data.header.error||a.mounted&&""!==e.data.body.url&&a.setState({certUrl:e.data.body.url})}).catch(function(e){})},a.mouseEnterHandler=function(){a.state.timer&&clearTimeout(a.state.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){},a.generateCert=function(){var e={header:{service:"",method:"create_document"},body:{course_id:a.props.match.params.courseId,lecture_id:a.props.match.params.lectureId,cl_filename:a.state.currLecture.cl_filename}};a.setState({generating:!0,modalClasses:"modal-container"}),H.post("/content",JSON.stringify(e),{withCredentials:!0}).then(function(t){if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",e,t.data),Q(a.props.match.params.courseId,a.props.isPreview,a.props.courseSlug);a.setState({generating:!1})}else a.mounted&&a.setState({generating:!1},function(){a.getCert(),a.props.onPercentageUpdate({percentage:100,cue:0,lectureId:+a.state.currLecture.id,completed:!0})})}).catch(function(e){})},a.downloadCert=function(){if(a.state.certUrl){if(ee())return ae(a.state.certUrl);var e=document.createElement("a");e.href=a.state.certUrl,e.download="Certificate",e.click()}},a.cancelHandler=function(){a.setState({modalClasses:"modal-container"})},a.modalOpenHandler=function(){a.setState({modalClasses:"modal-container visible"})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.mouseLeaveHandler(),this.mounted&&this.setState({currLecture:this.props.currLecture},function(){e.props.match.params.lectureId&&e.getCert()})}},{key:"componentDidUpdate",value:function(){var e=this;this.mounted&&JSON.stringify(this.state.currLecture)!==JSON.stringify(this.props.currLecture)&&this.setState({currLecture:this.props.currLecture,certUrl:null,generating:!1,loaded:!1},function(){e.props.match.params.lectureId&&e.getCert()})}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&this.props.swipeEvent!==e.swipeEvent&&(e.swipeEvent?this.mouseEnterHandler():this.mouseLeaveHandler())}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state.modalClasses,t="";this.props.currOpen&&(e+=" curropen"),this.props.dissOpen&&(e+=" forumopen");try{t=JSON.parse(this.props.config.user_details).us_name}catch(a){}return n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Je,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}),this.state.loaded?this.state.certUrl?n.a.createElement(_t,{certUrl:this.state.certUrl,downloadCert:this.downloadCert}):n.a.createElement(Ot,{generating:this.state.generating,generate:this.modalOpenHandler}):null,n.a.createElement("div",{className:this.state.modalClasses.indexOf("visible")>-1?"lecture-holder certificate-holder":""},n.a.createElement("div",{className:"context-holder certificate-context"},n.a.createElement("div",{className:e},n.a.createElement("div",{className:"modal-wrapper"},n.a.createElement("div",{className:"popup-content"},n.a.createElement("h3",null,"Confirm Your Name"),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",className:"form-control",id:"user_name",disabled:!0,value:t,placeholder:"Name"}),n.a.createElement("p",null,"Please ",n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:St},"follow this link")," to change your name.")),n.a.createElement("div",{className:"confirm-btn-wrapper"},n.a.createElement("button",{className:"pop-btn-cancel",onClick:this.cancelHandler,type:"button"},"Cancel"),n.a.createElement("button",{className:"pop-btn-ok",onClick:this.generateCert,type:"button"},this.state.generating?"Generating...":"Generate Now")))))))),n.a.createElement(Qe,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}))}}]),t}(r.Component),kt=Object(w.b)(function(e){return{currLecture:e.currLecture,config:e.config,currOpen:e.currOpen,dissOpen:e.dissOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Object(v.a)(Nt)),jt="Join Live",It=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.timerObj=null,a.state={opacity:1,timer:null,lectureId:!1,liveData:null,loaded:!1,player:!1,buttonText:jt},a.mouseEnterHandler=function(){a.state.timer&&clearTimeout(a.state.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){if(a.mounted&&!a.props.currOpen&&!a.props.isPreview){var e=setTimeout(function(){a.mounted&&!1===y()&&a.setState({opacity:0})},4e3);a.setState({timer:e})}},a.setLiveData=function(){return new Promise(function(e,t){var r={header:{method:"lecture_detail"},body:{course_id:a.props.courseId,lecture_id:a.state.lectureId,lecture_type:7}};a.mounted&&a.setState({assessLoading:!0}),H.post("/content",JSON.stringify(r),{withCredentials:!0}).then(function(n){if(n.data.header.error){if(604===n.data.header.code)return console.log("exit => ",r,n.data),Q(a.props.courseId,a.props.isPreview,a.props.courseSlug);t(n.data.header.message)}else a.mounted&&a.setState({liveData:Object(b.a)({},n.data.body.lecture),loaded:!0,player:!1},function(){e(a.state.liveData),a.checkStatus(),a.timerObj=setInterval(function(){a.checkStatus()},6e4)})}).catch(function(e){t(e)})})},a.showLive=function(){a.mounted&&a.state.liveData&&a.state.liveData.attentable&&a.setState({player:!0})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.mouseLeaveHandler(),this.mounted&&+this.state.lectureId!==+this.props.lectureId&&this.setState({lectureId:this.props.lectureId},function(){e.setLiveData().catch(function(e){return console.log(e)})})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.mounted&&e.lectureId&&+this.props.lectureId!==+e.lectureId&&this.setState({lectureId:e.lectureId,loaded:!1,liveData:null},function(){t.setLiveData().catch(function(e){return console.log(e)})}),this.mounted&&this.props.swipeEvent!==e.swipeEvent&&(e.swipeEvent?this.mouseEnterHandler():this.mouseLeaveHandler())}},{key:"checkStatus",value:function(){var e=this.state.liveData;if(e&&this.mounted){var t=new Date("".concat(e.ll_date,"T").concat(e.ll_time)).getTime(),a=(Date.now()-t)/6e4;if(a>parseFloat(e.ll_duration))return e.attentable=!1,void this.setState({liveData:e,buttonText:"Expired"});if(a<0)return e.attentable=!1,void this.setState({liveData:e,buttonText:"Session not yet started"});e.attentable=!0,this.setState({liveData:e,buttonText:jt})}}},{key:"youtube_parser",value:function(e){var t=e.split("v=")[1],a=t.indexOf("&");return-1!==a&&(t=t.substring(0,a)),t}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearInterval(this.timerObj)}},{key:"render",value:function(){var e=n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement("div",{className:"active-topbar",onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler}),n.a.createElement(Je,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}),n.a.createElement("div",{className:"context-holder",style:{marginTop:"180px"}},n.a.createElement("div",{id:"result",className:"tabcontent context custom-scroller"},n.a.createElement("span",{className:"instruction-info date-info-wrapper"},n.a.createElement("span",{className:"submision-date"},n.a.createElement("span",{className:"live-date-title"},"Date :")," ",this.state.loaded?this.state.liveData.date_formatted:null)),n.a.createElement("div",{className:"result-wrapper duration-info-col"},n.a.createElement("div",{className:"result-info duration-wrapper"},n.a.createElement("span",{className:"marks live-duration",style:{fontSize:"16px"}},n.a.createElement("span",{className:"live-duration-title"},"Duration : "),this.state.loaded?this.state.liveData.ll_duration+"-Min":null))),n.a.createElement("div",{className:"text-center btn-container"},n.a.createElement("button",{className:"btn-violet",onClick:this.state.liveData&&this.state.liveData.attentable?this.showLive:null,style:{cursor:this.state.liveData&&this.state.liveData.attentable?"pointer":"not-allowed"},type:""},this.state.buttonText)))),n.a.createElement(Qe,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}));if(this.state.player&&this.state.liveData){var t=this.props.videoHeight,a=this.youtube_parser(this.state.liveData.stream);e=n.a.createElement("div",{style:{backgroundColor:"#444"},className:"video-lecture"},n.a.createElement("div",{className:"active-topbar",onMouseEnter:this.mouseEnterHandler,onMouseLeave:this.mouseLeaveHandler}),n.a.createElement(me,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}),n.a.createElement("div",{className:"video-container"},n.a.createElement(tt.a,{id:"youtube",width:"100%",height:1===this.state.opacity?t:"100%",video:a,controls:!0,autoplay:!0,modestBranding:!0,showRelatedVideos:!1})),n.a.createElement(Se,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}))}return e}}]),t}(r.Component),Ht=Object(w.b)(function(e){return{courseId:e.subscription.id?e.subscription.cs_course_id:0,currLecture:e.currLecture,currOpen:e.currOpen,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},null)(Object(v.a)(It)),Tt=(a(115),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={data:null,options:[],selected:null},a.changeOption=function(e){a.setState({selected:e},function(){var e=JSON.parse(a.state.data.sq_options),t={id:a.state.data.id,question:a.state.data.sq_question,type:+a.state.data.sq_type,answer:e[a.state.selected]};a.props.recieveResponse(t)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({data:this.props.data,options:JSON.parse(this.props.data.sq_options)})}},{key:"render",value:function(){var e=this,t=this.state.options.length?this.state.options:[];t=t.map(function(t,a){return n.a.createElement("div",{key:a,className:"survey-option-row"},n.a.createElement("div",{className:"input-holder form-group clearfix"},n.a.createElement("input",{type:"radio",name:e.props.no,onChange:function(t){return e.changeOption(a)},value:a,checked:a===e.state.selected,className:"single_choice"}),n.a.createElement("label",{onClick:function(){return e.changeOption(a)},className:"single_choice_label"},t)))});var a=["survey-ques"];return this.state.data&&1===+this.state.data.sq_required&&a.push("mandatory"),n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-form-flex"},n.a.createElement("div",{className:"form-group ques-no text-right clearfix"},"Q",this.props.no," :"),n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("label",{className:a.join(" ")},this.state.data?this.state.data.sq_question:null)),this.props.validation?n.a.createElement("p",null,this.props.validation):null),n.a.createElement("div",{className:"survey-option-wrapper"},n.a.createElement("div",null,t)))}}]),t}(n.a.Component)),Pt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={data:null,values:[]},a.toggleCheckBox=function(e){var t=Object(z.a)(a.state.values);if(t.includes(e)){var r=t.indexOf(e);r>-1&&t.splice(r,1)}else t.push(e);a.setState({values:Object(z.a)(t)},function(){var e=JSON.parse(a.state.data.sq_options),t=a.state.values.map(function(t,a){return e[t]}),r={id:a.state.data.id,question:a.state.data.sq_question,type:+a.state.data.sq_type,answer:t};a.props.recieveResponse(r)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({data:this.props.data})}},{key:"render",value:function(){var e=this,t=this.state.data?JSON.parse(this.state.data.sq_options):[];t=t.map(function(t,a){return n.a.createElement("div",{key:a,className:"survey-option-row"},n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("input",{type:"checkbox",name:t,onChange:function(){return e.toggleCheckBox(a)},checked:e.state.values.includes(a),className:"multiple-choice-option"}),n.a.createElement("label",{onClick:function(){return e.toggleCheckBox(a)},className:"multiple-choice-label"},t)))});var a=["survey-ques"];return this.state.data&&1===+this.state.data.sq_required&&a.push("mandatory"),n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-form-flex"},n.a.createElement("div",{className:"form-group ques-no text-right clearfix"},"Q",this.props.no," :"),n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("label",{className:a.join(" ")},this.state.data?this.state.data.sq_question:null,n.a.createElement("span",{className:"red-text"})))),n.a.createElement("div",{className:"survey-option-wrapper"},n.a.createElement("div",{id:"option-holder"},t)))}}]),t}(n.a.Component),Ct=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={data:null,value:null},a.changeDropdown=function(e){a.setState({value:e.target.value},function(){var e=JSON.parse(a.state.data.sq_options),t={id:a.state.data.id,question:a.state.data.sq_question,type:+a.state.data.sq_type,answer:e[a.state.value]};a.props.recieveResponse(t)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({data:this.props.data})}},{key:"render",value:function(){var e=this,t=this.state.data?JSON.parse(this.state.data.sq_options):[];t=t.map(function(t,a){return n.a.createElement("option",{key:a,defaultValue:e.state.value===a,value:a},t)});var a=["survey-ques"];return this.state.data&&1===+this.state.data.sq_required&&a.push("mandatory"),n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-form-flex"},n.a.createElement("div",{className:"form-group ques-no text-right clearfix"},"Q",this.props.no," :"),n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("label",{className:a.join(" ")},this.state.data?this.state.data.sq_question:null,n.a.createElement("span",{className:"red-text"})))),n.a.createElement("div",{className:"survey-option-wrapper"},n.a.createElement("div",{id:"option-holder"},n.a.createElement("div",{className:"survey-option-row"},n.a.createElement("select",{onChange:this.changeDropdown,className:"option-selectbox"},n.a.createElement("option",{value:"select"},"Select"),t)))))}}]),t}(n.a.Component),xt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={data:null,value:null},a.changeContent=function(e){a.setState({value:e},function(){var e={id:a.state.data.id,question:a.state.data.sq_question,type:+a.state.data.sq_type,answer:a.state.value};a.props.recieveResponse(e)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({data:this.props.data})}},{key:"render",value:function(){var e=this,t=["survey-ques"];return this.state.data&&1===+this.state.data.sq_required&&t.push("mandatory"),n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-form-flex"},n.a.createElement("div",{className:"form-group ques-no text-right clearfix"},"Q",this.props.no," :"),n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("label",{className:t.join(" ")},this.state.data?this.state.data.sq_question:null,n.a.createElement("span",{className:"red-text"})))),n.a.createElement("div",{className:"survey-option-wrapper"},n.a.createElement("div",null,n.a.createElement("div",{className:"survey-option-row"},n.a.createElement("textarea",{onKeyUp:function(t){return e.changeContent(t.target.value)},className:"survey_description form-control",rows:4})))))}}]),t}(n.a.Component),At=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={data:null,selected:null},a.changeOption=function(e){a.setState({selected:e},function(){var t={id:a.state.data.id,question:a.state.data.sq_question,type:+a.state.data.sq_type,answer:e};a.props.recieveResponse(t)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setState({data:this.props.data},function(){})}},{key:"render",value:function(){var e=this,t=["survey-ques"];this.state.data&&1===+this.state.data.sq_required&&t.push("mandatory");var a=this.state.data?+this.state.data.sq_low_limit:0,r=this.state.data?+this.state.data.sq_high_limit:0;0===a&&r++;var s=new Array(r).fill(null),c=new Array(r).fill(null);return c=c.map(function(e,t){return n.a.createElement("th",{key:t},1===a?t+1:t)}),s=s.map(function(t,r){return n.a.createElement("td",{key:r},n.a.createElement("input",{type:"radio",name:"".concat(e.props.no,"_").concat(1===a?r+1:r),onChange:function(){return e.changeOption(1===a?r+1:r)},checked:e.state.selected===(1===a?r+1:r),className:"linear-choice-option"}),n.a.createElement("label",{onClick:function(){return e.changeOption(1===a?r+1:r)},className:"linear-choice-label"}))}),n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-form-flex"},n.a.createElement("div",{className:"form-group ques-no text-right clearfix"},"Q",this.props.no," :"),n.a.createElement("div",{className:"form-group clearfix"},n.a.createElement("label",{className:t.join(" ")},this.state.data?this.state.data.sq_question:null))),n.a.createElement("div",{className:"survey-option-wrapper"},n.a.createElement("div",{id:"option-holder"},n.a.createElement("div",{className:"survey-option-row"},n.a.createElement("table",{className:"linear-choice-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,c)),n.a.createElement("tbody",null,n.a.createElement("tr",null,s)))))))}}]),t}(n.a.Component),Dt=a(33),Ut=a.n(Dt),Mt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={activeTab:0,opacity:1,timer:null,courseDetails:null,surveyData:null,surveyQuestions:null,response:{},submitable:!1,submiting:!1,showSuccess:null,loading:!0},a.setSurveyDetails=function(){var e={header:{service:"",method:"lecture_detail"},body:{course_id:a.props.match.params.courseId,lecture_id:a.props.lectureId,lecture_type:13}};H.post("/content",JSON.stringify(e),{withCredentials:!0}).then(function(t){if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",e,t.data),Q(a.props.match.params.courseId,a.props.isPreview,a.props.courseSlug)}else a.mounted&&a.setState({surveyData:Object(b.a)({},t.data.body.lecture.survey),surveyQuestions:Object(b.a)({},t.data.body.lecture.questions),courseDetails:a.props.courseDetails,loading:!1},function(){})}).catch(function(e){})},a.mouseEnterHandler=function(){a.state.timer&&clearTimeout(a.state.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){},a.recieveResponse=function(e){var t=Object(b.a)({},a.state.response);switch(t[e.id]=e,e.type){case 2:e.answer.length||delete t[e.id];break;case 3:"undefined"===typeof e.answer&&delete t[e.id];break;case 4:""===e.answer&&delete t[e.id]}a.setState({response:t})},a.submitHandler=function(){var e=Object(b.a)({},a.state.surveyQuestions),t=!0,r=[];for(var n in e){e[n].validation=null;var s="undefined"!==typeof a.state.response[e[n].id]?Object(b.a)({},a.state.response[e[n].id]):null;if(s){var c={};switch(c.question_id=s.id,c.question=s.question,s.type){case 1:c.opinion=[{answer:s.answer}];break;case 2:var i=s.answer.map(function(e){return{answer:e}});c.opinion=i;break;case 3:case 4:case 5:c.opinion=[{answer:s.answer}]}r.push(c)}if(+e[n].sq_required)switch(+e[n].sq_type){case 1:s&&""!==s.answer||(t=!1,e[n].validation="This is a mandatory field.");break;case 2:s&&s.answer.length||(t=!1,e[n].validation="This is a mandatory field.");break;case 3:s&&"undefined"!==typeof s.answer||(t=!1,e[n].validation="This is a mandatory field.");break;case 4:case 5:s&&""!==s.answer||(t=!1,e[n].validation="This is a mandatory field.")}}t&&!a.state.submiting?a.setState({submitable:t,submiting:!0},function(){var e={header:{method:"save_user_survey"},body:{course_id:a.props.match.params.courseId,lecture_id:a.props.lectureId,lecture_type:13,survey_id:a.state.surveyData.survey_id,course_name:a.state.courseDetails.cb_title,survey_name:a.state.surveyData.s_name,tutor_id:a.state.surveyData.s_tutor_id,details:r}};H.post("/content",JSON.stringify(e),{withCredentials:!0}).then(function(t){if(t.data.header.error){if(604===t.data.header.code)return console.log("exit => ",e,t.data),Q(a.props.match.params.courseId,a.props.isPreview,a.props.courseSlug)}else a.mounted&&a.setState({submiting:!1,showSuccess:!0},function(){setTimeout(function(){a.props.onPercentageUpdate({percentage:100,cue:0,lectureId:a.props.lectureId,completed:!0});var e=0;"undefined"!==typeof a.props.currLecture.prevLecture.id&&(e=a.props.currLecture.prevLecture.id),"undefined"!==typeof a.props.currLecture.nexLecture.id&&(e=a.props.currLecture.nexLecture.id),a.props.history.replace("/".concat(a.props.match.params.courseId,"/").concat(e))},2e3)})}).catch(function(e){})}):a.setState({surveyQuestions:Object(b.a)({},e)})},a.lectureSwitch=function(e){var t="/".concat(a.props.match.params.courseId,"/").concat(e.lectureId);a.props.history.push({pathname:t,state:{action:e.direction}})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mounted&&this.setSurveyDetails(),this.mouseLeaveHandler()}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.mounted&&+e.lectureId!==+this.props.lectureId&&this.setState({surveyData:null,surveyQuestions:null,response:{},submitable:!1,submiting:!1,loading:!0},function(){a.setSurveyDetails()})}},{key:"componentWillReceiveProps",value:function(e){this.mounted&&this.props.swipeEvent!==e.swipeEvent&&(e.swipeEvent?this.mouseEnterHandler():this.mouseLeaveHandler())}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=null,a="context-holder document-context survey-container",r=this.state.surveyQuestions?this.state.surveyQuestions:{};this.props.currLecture&&this.props.currLecture.nexLecture&&"undefined"!==typeof this.props.currLecture.nexLecture.id&&(t=this.props.currLecture.nexLecture);var s=[];for(var c in r){var i=null;switch(+r[c].sq_type){case 1:i=n.a.createElement(Tt,{key:c,no:+c+1,data:r[c],recieveResponse:function(t){return e.recieveResponse(t)},validation:"undefined"!==typeof r[c].validation?r[c].validation:null});break;case 2:i=n.a.createElement(Pt,{key:c,no:+c+1,data:r[c],recieveResponse:function(t){return e.recieveResponse(t)},validation:"undefined"!==typeof r[c].validation?r[c].validation:null});break;case 3:i=n.a.createElement(Ct,{key:c,no:+c+1,data:r[c],recieveResponse:function(t){return e.recieveResponse(t)},validation:"undefined"!==typeof r[c].validation?r[c].validation:null});break;case 4:i=n.a.createElement(xt,{key:c,no:+c+1,data:r[c],recieveResponse:function(t){return e.recieveResponse(t)},validation:"undefined"!==typeof r[c].validation?r[c].validation:null});break;case 5:i=n.a.createElement(At,{key:c,no:+c+1,data:r[c],recieveResponse:function(t){return e.recieveResponse(t)},validation:"undefined"!==typeof r[c].validation?r[c].validation:null});break;default:i=null}s.push(i)}var o=n.a.createElement(D,null,n.a.createElement("div",{className:"survey-row"},n.a.createElement("div",{className:"survey-title-info text-center"},n.a.createElement("h2",null,this.state.surveyData?this.state.surveyData.s_name:null))),s,n.a.createElement("div",{className:"survey-submit text-center"},n.a.createElement("button",{onClick:this.submitHandler,className:"btn-violet",type:"button"},this.state.submiting?"Submiting...":"Submit")));return this.state.showSuccess&&(a="context-holder vcenter survey-container",o=n.a.createElement("div",null,n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{height:"100",src:Ut.a,alt:"Success"})),n.a.createElement("p",{className:"text-message"},"Thank you for the feedback."))),"undefined"!==typeof this.props.lectureLog.log[+this.props.lectureId]&&(a="context-holder vcenter survey-container",o=n.a.createElement("div",null,n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{height:"100",src:Ut.a,alt:"Success"})),n.a.createElement("p",{className:"text-message"},"Survey already submitted."),n.a.createElement("div",{className:"text-center btn-container"},t&&n.a.createElement("button",{className:"btn-violet",onClick:function(){e.lectureSwitch({direction:"forward",lectureId:t.id})},type:"button"},"Continue")))),n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Ke,null),n.a.createElement(Je,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}),n.a.createElement("div",{className:"lecture-holder"},n.a.createElement("div",{className:a},n.a.createElement("div",{className:"context"},n.a.createElement("div",{className:"survey-wrapper"},this.state.loading?n.a.createElement("span",{className:"result-success"},"Loading survey..."):o)))),n.a.createElement(Qe,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}))}}]),t}(n.a.Component),Rt=Object(w.b)(function(e){return{courseDetails:e.course,lectureId:e.currLecId,currLecture:e.currLecture,lectureLog:e.lectureLog,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{onPercentageUpdate:function(t){return e({type:"UPDATE_PERCENTAGE",payload:t})}}})(Object(v.a)(Mt)),qt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.timer=null,a.state={time:4,currLecture:null,content:null,autoPlay:!0},a.timerComleted=function(){window.clearInterval(a.timer);var e=Object(b.a)({},a.state.currLecture);a.mounted&&a.setState({time:4,currLecture:null},function(){if("undefined"!==typeof e.nexLecture.id){a.props.switchTransform();var t="/".concat(a.props.courseId,"/").concat(e.nexLecture.id);a.props.history.push({pathname:t,state:{action:"forward"}})}else a.props.closeTransition(!0)})},a.autoPlayToggleHandler=function(){a.setState({autoPlay:!a.state.autoPlay},function(){a.props.autoPlayToggleHandler(a.state.autoPlay),a.state.autoPlay?a.timer=setInterval(function(){a.setState({time:0!==a.state.time?a.state.time-1:0})},1e3):window.clearInterval(a.timer)})},a.nextLectureHandler=function(){a.props.switchTransform();var e=Object(b.a)({},a.state.currLecture),t="/".concat(a.props.courseId,"/").concat(e.nexLecture.id);a.props.history.push({pathname:t,state:{action:"forward"}})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.setState({currLecture:this.props.currLecture,content:this.props.transContents[Math.floor(Math.random()*this.props.transContents.length)],autoPlay:this.props.autoPlay},function(){e.timer=setInterval(function(){e.mounted&&e.setState({time:0!==e.state.time?e.state.time-1:0})},1e3)})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){0===this.state.time&&this.timerComleted()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"transition-wrapper"},n.a.createElement("div",{className:"transition-tag"},n.a.createElement("h5",null,this.state.content?this.state.content.tc_content:null),n.a.createElement("span",{className:"transition-timer"},n.a.createElement("label",{className:"switch"},n.a.createElement("input",{type:"checkbox",onChange:function(){return e.autoPlayToggleHandler()},checked:this.state.autoPlay}),n.a.createElement("span",{className:"slider round"})),"Automatically playing in ",n.a.createElement("span",{className:"timer"},"0",this.state.time)," seconds"),n.a.createElement("div",{className:"next-prev-navigation"},n.a.createElement("div",{onClick:function(){return e.props.closeTransition(!0)},className:"previous"},n.a.createElement("span",null,"Stay Here")),n.a.createElement("div",{onClick:this.nextLectureHandler,className:"next"},n.a.createElement("span",null,"Next")))))}}]),t}(r.Component),Gt=Object(w.b)(function(e){return{currLecture:e.currLecture?e.currLecture:null,transContents:e.transition,courseId:e.subscription.id?e.subscription.cs_course_id:0,isPreview:e.isPreview}},null)(Object(v.a)(qt)),zt=a(55),Wt=a.n(zt),Ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={opacity:1,timer:null,reasons:null,reportLink:""},a.mouseEnterHandler=function(){a.state.timer&&clearTimeout(a.state.timer),a.mounted&&a.setState({opacity:1})},a.mouseLeaveHandler=function(){},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.mouseLeaveHandler(),this.mounted&&this.setState({reasons:Object(z.a)(this.props.reasons)}),this.checkAssessment()}},{key:"componentDidUpdate",value:function(e,t){this.mounted&&JSON.stringify(e.reasons)!==JSON.stringify(this.props.reasons)&&this.setState({reasons:Object(z.a)(this.props.reasons)}),this.mounted&&e.lectureId!==this.props.lectureId&&this.checkAssessment()}},{key:"checkAssessment",value:function(){this.setState({reportLink:""}),3===this.props.lectureType&&this.getAssessmentData()}},{key:"getAssessmentData",value:function(){var e=this,t={header:{service:"",method:"assessment"},body:{course_id:this.props.courseId,lecture_id:this.props.lectureId}};return H.post("/content",JSON.stringify(t),{withCredentials:!0}).then(function(t){if(!t.data||t.data.header.error)return!1;var a=Object(b.a)({},t.data.body),r=a.assessment&&a.assessment.attempt_data?Object(b.a)({},a.assessment.attempt_data):null;if(e.props.config.apiUrl&&r.id){var n=new URL("".concat(e.props.config.apiUrl,"/material/assesment_report_item/").concat(r.id));e.props.token&&n.searchParams.append("token",e.props.token);var s=n.href;+r.aa_valuated&&+r.aa_completed?e.setState({reportLink:s}):+r.aa_completed&&e.setState({reportLink:"waiting"})}return!0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state.reasons?this.state.reasons:[],t=null;return this.state.reportLink&&"waiting"===this.state.reportLink?t=n.a.createElement("span",{className:"view-report-btn"},"Waiting Result"):this.state.reportLink&&(t=n.a.createElement("a",{className:"view-report-btn",href:this.state.reportLink},"View Report")),e=e.map(function(e,t){return n.a.createElement("li",{key:t,dangerouslySetInnerHTML:{__html:e}})}),n.a.createElement("div",{className:"preview-area custom-scroller"},n.a.createElement(Je,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity,locked:!0}),n.a.createElement("div",{className:"lecture-holder"},n.a.createElement("div",{className:"context-holder locked-content"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{className:"lock-img",src:Wt.a,alt:""})),n.a.createElement("h5",{className:"locked-title"},"Locked Content"),n.a.createElement("ol",{className:"locked-content-info text-center"},e),n.a.createElement("div",{className:"text-center"},t))),n.a.createElement(Qe,{mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,opacity:this.state.opacity}))}}]),t}(r.Component),Jt=Object(w.b)(function(e){return{config:e.config,token:e.token}})(Ft),Bt=function(e,t){var a={header:{method:"update_percentage"},body:{course_id:e.courseId,subscriber_id:e.subscriptionId,course_percentage:e.percentage,last_played:e.lectureId,lecture_data:e.lectureData,lectureType:e.lectureType,lectureName:e.lectureName}};return H.post("/content",JSON.stringify(a),{withCredentials:!0}).then(function(e){return e.data.header?!(604!==e.data.header.code&&!e.data.header.error)&&(console.log("exit => ",a,e.data),!0):(console.log("exit => ","No response",a,e),!0)}).catch(function(e){return console.log("exit => ","error: ",e),!0})};window.addEventListener("beforeunload",Y,!1);var Qt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={currLecture:null,currLectureId:0,lectureLog:null,subscription:null,showTransition:!1,autoPlay:!0,stayHere:!1,pointableLectures:null,loggerProgress:!1,swipe:!1,videoHeight:!y()||window.innerWidth>920||y()&&!window.screen.orientation&&"orientation"in window&&("0"===window.orientation.toString()||"180"===window.orientation.toString())||y()&&window.screen.orientation&&"portrait-primary"===window.screen.orientation.type?window.innerHeight-120:window.innerHeight},a._handleResize=function(e){-1!==[1,4,7,15].indexOf(+a.state.currLecture.cl_lecture_type)&&(!y()||window.innerWidth>920||y()&&window.screen.orientation&&"portrait-primary"===window.screen.orientation.type||y()&&!window.screen.orientation&&"orientation"in window&&("0"===window.orientation.toString()||"180"===window.orientation.toString())?a.setState({videoHeight:window.innerHeight-120}):(a.props.onCurriculumToggle(!1),a.setState({videoHeight:window.innerHeight})))},a.handleUpdate=function(e){a.setState({loggerProgress:!1})},a.autoPlayCompleteHandler=function(){a.state.autoPlay&&"undefined"!==typeof a.state.currLecture.nexLecture&&a.state.currLecture.nexLecture.id&&(a.props.currOpen||-1===[1,4,12,15].indexOf(+a.state.currLecture.cl_lecture_type)||a.setState({showTransition:!0}))},a.switchTransform=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.setState({showTransition:!1,stayHere:e})},a.autoPlayToggleHandler=function(e){a.setState({autoPlay:e})},a.onSwipeStart=function(e){a.setState({swipe:!0})},a.onSwipeEnd=function(e){a.setState({swipe:!1})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.mounted&&(window.onpopstate=function(){e.props.lectureSwitch(+e.props.match.params.lectureId)}),window.addEventListener("resize",this._handleResize),window.addEventListener("orientationchange",this._handleResize)}},{key:"populateLogData",value:function(){var e=[],t=Object(b.a)({},this.props.lectureLog.log);for(var a in t)e.push({lecture_id:a,percentage:t[a].percentage,cue:t[a].cue,views:t[a].views});var r={courseId:this.props.match.params.courseId,subscriptionId:this.props.subscription.id,percentage:this.props.lectureLog.overall_percentage,lectureType:this.props.currLecture.cl_lecture_type,lectureName:this.props.currLecture.cl_lecture_name,lectureId:this.props.currLecture.id,lectureData:e.concat()};return function(e){W=e}(Object(b.a)({},r,{isPreview:this.props.isPreview})),{lectureLog:e,logParams:r}}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.mounted&&this.props.currLecture&&this.populateLogData(),this.mounted&&this.props.currLecture&&"undefined"!==typeof this.props.currLecture.id&&+this.props.currLecture.id!==+this.state.currLectureId&&this.setState({currLecture:this.props.currLecture,currLectureId:this.props.currLecture?this.props.currLecture.id:0,subscription:this.state.subscription?this.state.subscription:this.props.subscription,lectureLog:this.props.lectureLog,pointableLectures:this.props.pointableLectures}),this.mounted&&this.props.lectureLog.update&&!this.props.isPreview){var a=this.populateLogData(),r=a.lectureLog,n=a.logParams;this.mounted&&this.props.lectureLog.update&&r.length&&!this.state.loggerProgress&&(this.props.logComplete(),this.setState({loggerProgress:!0},Object(G.a)(q.a.mark(function e(){return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bt(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return",Q(t.props.subscription.cs_course_id,t.props.isPreview,t.props.courseSlug));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:t.setState({loggerProgress:!1});case 11:case"end":return e.stop()}},e,this,[[0,8]])}))))}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this._handleResize),window.removeEventListener("orientationchange",this._handleResize)}},{key:"render",value:function(){var e=this,t=this.props.config,a=null;if(this.state.currLectureId){switch(document.title=t.siteName+" - "+this.state.currLecture.cl_lecture_name,+this.state.currLecture.cl_lecture_type){case 1:a=1===parseInt(t.content_secuirity)?n.a.createElement(Ge,{swipeEvent:this.state.swipe,onComplete:this.autoPlayCompleteHandler,autoPlay:this.state.stayHere?!this.state.stayHere:this.state.autoPlay,courseId:this.props.subscription.cs_course_id,key:this.state.currLecture.id,videoId:this.state.currLecture.cl_filename,videoHeight:this.state.videoHeight}):n.a.createElement(Ie,{swipeEvent:this.state.swipe,onComplete:this.autoPlayCompleteHandler,autoPlay:this.state.stayHere?!this.state.stayHere:this.state.autoPlay,courseId:this.props.subscription.cs_course_id,key:this.state.currLecture.id,videoId:this.state.currLecture.cl_filename,videoHeight:this.state.videoHeight});break;case 2:a=n.a.createElement(Ze,{key:this.state.currLecture.id,currOpen:this.props.currOpen,courseId:this.props.subscription.cs_course_id,lectureId:this.state.currLectureId,documentId:this.state.currLecture.cl_org_file_name,swipeEvent:this.state.swipe});break;case 5:a=n.a.createElement(et,{key:this.state.currLecture.id,lectureId:this.state.currLecture.id,courseId:this.state.subscription.cs_course_id,swipeEvent:this.state.swipe});break;case 4:a=n.a.createElement(rt,{key:this.state.currLecture.id,autoPlay:this.state.stayHere?!this.state.stayHere:this.state.autoPlay,onComplete:this.autoPlayCompleteHandler,courseId:this.props.subscription.cs_course_id,videoId:this.state.currLecture.cl_filename,swipeEvent:this.state.swipe,videoHeight:this.state.videoHeight});break;case 12:a=n.a.createElement(it,{key:this.state.currLecture.id,autoPlay:this.state.stayHere?!this.state.stayHere:this.state.autoPlay,onComplete:this.autoPlayCompleteHandler,lectureId:this.state.currLecture.id,audioId:this.state.currLecture.cl_org_file_name,courseId:this.state.subscription.cs_course_id,swipeEvent:this.state.swipe});break;case 3:a=n.a.createElement(lt,{lectureId:this.state.currLectureId,swipeEvent:this.state.swipe});break;case 10:a=n.a.createElement(mt,{lectureId:this.state.currLectureId,swipeEvent:this.state.swipe,courseId:this.props.subscription.cs_course_id});break;case 7:a=n.a.createElement(Ht,{lectureId:this.state.currLectureId,swipeEvent:this.state.swipe,courseId:this.props.subscription.cs_course_id,videoHeight:this.state.videoHeight});break;case 8:a=n.a.createElement(wt,{lectureId:this.state.currLectureId,swipeEvent:this.state.swipe});break;case 13:a=n.a.createElement(Rt,{currOpen:this.props.currOpen,lectureId:this.state.currLectureId,swipeEvent:this.state.swipe});break;case 14:a=n.a.createElement(kt,{currOpen:this.props.currOpen,swipeEvent:this.state.swipe});break;case 11:a=n.a.createElement(We,{currOpen:this.props.currOpen,swipeEvent:this.state.swipe});break;case 15:a=n.a.createElement(Ie,{swipeEvent:this.state.swipe,onComplete:this.autoPlayCompleteHandler,autoPlay:this.state.stayHere?!this.state.stayHere:this.state.autoPlay,courseId:this.props.subscription.cs_course_id,key:this.state.currLecture.id,videoId:this.state.currLecture.cl_filename,videoHeight:this.state.videoHeight});break;default:a=null}a=n.a.createElement("div",{className:"lecture-wrapper"},a)}a=this.state.showTransition?n.a.createElement(Gt,{switchTransform:this.switchTransform,autoPlay:this.state.autoPlay,closeTransition:function(t){return e.switchTransform(t)},autoPlayToggleHandler:function(t){return e.autoPlayToggleHandler(t)}}):a;var r={canplay:!0,reason:[]},s={canplay:!0,reason:[]};return this.props.override[this.state.currLectureId]&&this.props.override[this.state.currLectureId].length>0&&(r=K({studentLog:Object(b.a)({},this.state.lectureLog,{lecture_id:this.state.currLectureId}),overrides:this.props.override,userDetails:this.props.config.user_details})),this.state.currLecture&&(this.state.currLecture.cl_access_restriction||+this.state.currLecture.cl_limited_access)&&this.state.lectureLog&&(s=$({studentLog:Object(b.a)({},this.state.lectureLog,{lecture_id:this.state.currLectureId,batchOverride:Object(b.a)({},r.batchOverride)}),access:Object(b.a)({},JSON.parse(this.state.currLecture.cl_access_restriction),{access_limit:this.state.currLecture.cl_limited_access}),pointableLectures:Object(b.a)({},this.state.pointableLectures)})),r.canplay&&s.canplay||(a=n.a.createElement("div",{className:"lecture-wrapper"},n.a.createElement(Jt,{reasons:Object(z.a)(r.reason).concat(Object(z.a)(s.reason)),currOpen:this.props.currOpen,swipeEvent:this.state.swipe,lectureId:this.state.currLectureId,lectureType:+this.state.currLecture.cl_lecture_type,courseId:this.props.subscription.cs_course_id}))),this.state.currLecture&&[3,8,10,14].indexOf(+this.state.currLecture.cl_lecture_type)>-1&&this.props.isPreview&&(a=n.a.createElement("div",{className:"lecture-wrapper"},n.a.createElement(Jt,{reasons:["Please purchase the course to view this item."],currOpen:this.props.currOpen,swipeEvent:this.state.swipe,lectureId:this.state.currLectureId,lectureType:+this.state.currLecture.cl_lecture_type,courseId:this.props.subscription.cs_course_id}))),n.a.createElement(ue.a,{onSwipeStart:this.onSwipeStart,onSwipeMove:this.onSwipeMove,onSwipeEnd:this.onSwipeEnd},a)}}]),t}(r.Component),Vt=Object(w.b)(function(e){return{config:e.config,override:e.override,currLecture:e.currLecture,subscription:e.subscription,currOpen:e.currOpen,lectureLog:e.lectureLog,pointableLectures:e.pointableLectures,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{lectureSwitch:function(t){return e({type:"SWITCH_LECTURE",payload:{lectureId:t}})},logComplete:function(){return e({type:"UPDATE_COMPLETE"})},onCurriculumToggle:function(t){return e({type:f,payload:t})}}})(Object(v.a)(Qt)),Yt=(a(117),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.config,t=this.props.token?"?token=".concat(this.props.token):"";return n.a.createElement("div",{className:"discussion-right-wrapper"},n.a.createElement("div",{className:"discussion-right-head"},n.a.createElement("span",{className:"discussion-right-title"},"Question & Answers"),n.a.createElement("span",{onClick:this.props.onDiscussionToggle,className:"close-icon"})),n.a.createElement("div",{className:"discusion-container white-bg"},n.a.createElement("iframe",{title:"Forum",frameBorder:"0",style:{height:"calc(100vh - 66px)"},width:"100%",src:"".concat(e.apiUrl,"/forum_service/").concat(this.props.match.params.courseId,"/").concat(this.props.match.params.lectureId,"/notmain").concat(t)})))}}]),t}(n.a.Component)),Zt=Object(w.b)(function(e){return{config:e.config,token:e.token}},function(e){return{onDiscussionToggle:function(){return e({type:"TOGGLE_DISCUSSION"})}}})(Object(v.a)(Yt)),Xt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.handleFloatClick=function(){a.props.menuClose()},a._backToDashboard=function(){return ee()?function(){return te.apply(this,arguments)}():Q(a.props.course.id,a.props.isPreview,a.props.courseSlug)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props.menuOpen?"float-ui active":"float-ui";return n.a.createElement("div",{className:e,onClick:this.handleFloatClick},n.a.createElement("ul",null,n.a.createElement("li",{onClick:this._backToDashboard},"Exit to Dashboard"),n.a.createElement("li",null,"Cancel")))}}]),t}(r.Component);var Kt=Object(w.b)(function(e){return{menuOpen:e.menuOpen,course:e.course,isPreview:e.isPreview,courseSlug:e.course.cb_slug}},function(e){return{menuClose:function(){return e({type:g,payload:!1})}}})(Object(v.a)(Xt)),$t=(a(119),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).mounted=!1,a.state={lectureId:0},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.mounted&&this.props.match.params.lectureId&&this.setState({lectureId:+this.props.match.params.lectureId},function(){e.props.lectureSwitch(+e.props.match.params.lectureId),y()&&e.props.currOpen&&e.props.onCurriculumToggle()})}},{key:"componentDidUpdate",value:function(e){var t=this;this.mounted&&"undefined"!==this.props.match.params.lectureId&&e.match.params.lectureId!==this.props.match.params.lectureId&&this.setState({lectureId:+this.props.match.params.lectureId},function(){t.props.lectureSwitch(+t.props.match.params.lectureId),y()&&t.props.currOpen&&t.props.onCurriculumToggle()})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){if(!this.props.curriculumList)return null;var e=["row","content-delivery-wrapper"];return this.props.isPreview&&this.props.previewTimer<=0?(console.log("exit => ","Preview expired"),Q(this.props.match.params.courseId,this.props.isPreview,this.props.courseSlug),null):(this.mounted&&this.props.currOpen&&(e[e.length]="curriculam-toggle"),this.mounted&&this.props.dissOpen&&(e[e.length]="discussion-toggle"),this.mounted&&this.props.showList&&(e[e.length]="supportdoc-toggle"),n.a.createElement("div",null,n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:e.join(" ")},n.a.createElement(oe,{currList:this.props.curriculumList}),n.a.createElement(Vt,null),!this.props.isPreview&&this.props.dissOpen&&n.a.createElement(Zt,{lectureId:this.props.match.params.lectureId}))),n.a.createElement(Kt,null)))}}]),t}(r.Component)),ea=Object(w.b)(function(e){return{currOpen:!!e.currOpen&&e.currOpen,dissOpen:!!e.dissOpen&&e.dissOpen,showList:e.showList,previewTimer:e.previewTimer,isPreview:e.isPreview,courseSlug:e.course.cb_slug,curriculumList:e.curriculumList}},function(e){return{lectureSwitch:function(t){return e({type:"SWITCH_LECTURE",payload:{lectureId:t}})},onCurriculumToggle:function(){return e({type:f})}}})(Object(v.a)($t));var ta=function(e){return console.log(Z()),n.a.createElement("div",{className:"text-center not-found"},n.a.createElement("h1",null,"404"),n.a.createElement("h3",null,"Page Not Found"),n.a.createElement("p",null,"The page you are looking for doesn't exist."))},aa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={hasError:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t),console.log(Z())}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("div",{className:"text-center not-found"},n.a.createElement("h1",null,"Something went wrong."),n.a.createElement("h3",null,"We sincerely regret the inconvenience caused.")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.Component);a(121);var ra=function(e){return n.a.createElement("div",{className:e.show?"toast show":"toast fade",role:"alert","aria-live":"assertive","aria-atomic":"true"},n.a.createElement("div",{className:"toast-header"},n.a.createElement("svg",{className:"bd-placeholder-img rounded mr-2",width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img"},n.a.createElement("rect",{width:"100%",height:"100%",fill:"#007aff"})),n.a.createElement("strong",{className:"mr-auto"},e.header),n.a.createElement("button",{type:"button",onClick:e.closeClick,className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"toast-body"},e.text))},na=["apiUrl","assessmentUrl","content_secuirity","documentUrl","materialUrl","mp3Url","redactorUploadUrl","scormUrl","siteName","user_details"],sa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).isLoggedTimer=null,a.state={toastHead:"Back online",toastText:"You're now online.",toast:!1},a.onlineHandler=function(){a.setState({toastHead:"Online",toastText:"You're back online.",toast:!0}),setTimeout(function(){a.setState({toast:!1}),window.location.reload()},3e3)},a.offlineHandler=function(){a.setState({toastHead:"Offline",toastText:"Please check your internet connection.",toast:!0})},a.handleCloseClick=function(){a.setState(function(e){return{toast:!e.toast}})},a.getCurriculumData=function(e){var t={header:{service:"",method:"initial_data"},body:{course_id:e}};return H.post("/content",JSON.stringify(t),{withCredentials:!0})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.lecure_logs={};var t=window.location.href.split("".concat("/materials/course","/")),a=t.length>1?t[1].split("/"):[];if(isNaN(parseInt(a[0])))return console.log("exit => ","Invalid course id "),V();var r=new URLSearchParams(window.location.search).get("token");r&&(this.props.saveToken(r),localStorage.setItem("token",r)),this.getCurriculumData(a[0]).then(function(t){if(t.data.header.error)return console.log("exit => ",t.data),V();var a,r=t.data.body.config,n=t.data.body.course_preview,s=t.data.body.curriculum_list;if(a=Object.keys(r),!na.every(function(e){return a.indexOf(e)>-1}))return console.log("exit => ","Invalid site configuration ",t.data),V();if(1===+s.course.cb_deleted)return console.log("exit => ","Course deleted ",t.data),V();if(e.props.saveConfigs(r),1===+n.course_preview){var c=0;+n.user_preview_time>0&&+n.course_preview_time>+n.user_preview_time?c=parseInt(n.course_preview_time,10)-parseInt(n.user_preview_time,10):0===+n.user_preview_time&&+n.course_preview_time>0&&(c=+n.course_preview_time),e.props.setPreviewTime(c),e.props.setPreviewEnabled()}e.props.setCurList(s),clearInterval(e.isLoggedTimer),e.isLoggedTimer=setInterval(function(){var t,a,r;t=s.course.id,a=e.props.isPreview,r=s.course.cb_slug,H.get("/content/is_logged_in",{withCredentials:!0}).then(function(e){return 604===e.data.header.code?(console.log("exit => ","Not logged in ",e.data),Q(t,a,r)):e})},3e5)}).catch(function(e){return console.log("exit => ","curriculum error: ",e),V()}),window.addEventListener("offline",this.offlineHandler),window.addEventListener("online",this.onlineHandler)}},{key:"componentWillUnmount",value:function(){clearInterval(this.isLoggedTimer),window.removeEventListener("offline",this.offlineHandler),window.removeEventListener("online",this.onlineHandler)}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.state.toast&&n.a.createElement("div",{className:"toast-container"},n.a.createElement(ra,{header:this.state.toastHead,show:this.state.toast,closeClick:this.handleCloseClick,text:this.state.toastText})),n.a.createElement(p.a,{basename:"/materials/course"},n.a.createElement(aa,null,n.a.createElement(m.a,null,n.a.createElement(h.a,{path:"/:courseId/:lectureId?/:tab?",component:ea}),n.a.createElement(h.a,{component:ta})))))}}]),t}(r.Component),ca=Object(w.b)(function(e){return{isPreview:e.isPreview}},function(e){return{saveToken:function(t){return e({type:"SET_TOKEN",payload:t})},saveConfigs:function(t){return e({type:"SET_CONFIG",payload:t})},setPreviewTime:function(t){return e({type:"SET_PREVIEWTIME",payload:t})},setPreviewEnabled:function(){return e({type:"SET_PREVIEWENABLED"})},setCurList:function(t){return e({type:"SET_CUR_LIST",payload:t})}}})(sa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ia=a(20),oa={config:{},curriculumList:null,currOpen:!1,dissOpen:!1,curriculumLoaded:!1,course:{},curriculum:{},override:[],subscription:{},lectureLog:{},transition:[],pointableLectures:{},currLecture:null,currLecId:0,currSecId:0,opacityClass:"lecture-holder overflow-visible",menuOpen:!1,showList:!1,isPreview:!1,previewTimer:0,previewEnabled:!1,fullScreen:!1,token:"",descModalOpen:!1},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CUR_LIST":return Object(b.a)({},e,{curriculumList:t.payload});case f:return Object(b.a)({},e,{currOpen:"payload"in t?t.payload:!e.currOpen,dissOpen:!!e.currOpen&&e.dissOpen});case"TOGGLE_DISCUSSION":return Object(b.a)({},e,{dissOpen:!e.dissOpen,currOpen:!!e.dissOpen&&e.currOpen});case"SET_CURRICULUM":if(!e.curriculumLoaded){var a={},r={},n=Object(b.a)({},t.payload.data.curriculum),s=+t.payload.data.currentLectureId,c=Object(b.a)({},t.payload.data.curriculum.subscription);c.cs_lecture_log=c.cs_lecture_log?c.cs_lecture_log:"{}";var i=JSON.parse(c.cs_lecture_log);r.overall_percentage=t.payload.data.curriculum.subscription.cs_percentage,r.log=Object(b.a)({},i);for(var o=n.sections.sort(function(e,t){return+e.s_order_no-+t.s_order_no}),l={},u=0;u<n.override.length;u++){var d=n.override[u];l[d.lo_lecture_id]||(l[d.lo_lecture_id]=[]),l[d.lo_lecture_id].push(d)}var p={},m=0,h=0,v=0,y=0,w=[],E=0,L=0,O=0;return o=(o=o.filter(function(e){return e.s_lectures.length>0})).map(function(t,n){y++;var o=0;return t.s_lectures=t.s_lectures.filter(function(t){return e.isPreview?!(13===+t.cl_lecture_type):!("undefined"!==typeof r.log[+t.id]&&13===+t.cl_lecture_type)}),t.s_lectures=t.s_lectures.map(function(e,r){var l=!1;return e.sectionName=t.s_name,13===+e.cl_lecture_type?(E++,e.lNumber=E):3===+e.cl_lecture_type?(L++,o++,e.lNumber=L):8===+e.cl_lecture_type?(O++,o++,e.lNumber=O):(v++,o++,e.lNumber=v),e.sNumber=y,e.percentage=0,e.views=0,e.cue=0,i&&"undefined"!==typeof i[+e.id]&&(e.percentage=parseInt(i[+e.id].percentage),e.views=parseInt(i[+e.id].views),e.cue=parseInt(i[+e.id].cue)),e.changes=!1,"object"!==typeof p.nexLecture||p.nexLecture.id||(p.nexLecture=Object(b.a)({},e)),(s&&s===+e.id||!s&&0!==+c.cs_last_played_lecture&&+c.cs_last_played_lecture===+e.id||!s&&0===n&&0===r)&&(p=Object(b.a)({},e),m=+e.id,l=!0,h=t.id,p.prevLecture=1,p.nexLecture={}),"object"!==typeof p.prevLecture&&(p.prevLecture="undefined"!==typeof w[w.length-1]?Object(b.a)({},w[w.length-1]):{}),a[+e.id]=e,w.push(e),Object(b.a)({},e,{current:l})}),Object(b.a)({},t,{open:!1,current:!1,lectureCount:o})}),Object(b.a)({},e,{curriculum:Object(z.a)(o),override:l,course:Object(b.a)({},t.payload.data.course),curriculumLoaded:!0,currLecture:p,currLecId:m,currSecId:h,subscription:Object(b.a)({},c),transition:Object(z.a)(t.payload.data.transition.transition_contents),lectureLog:Object(b.a)({},r),pointableLectures:Object(b.a)({},a)})}break;case"TOGGLE_SECTION":var _=Object(z.a)(e.curriculum),S=t.payload.sectionId;return _=_.map(function(e,t){return e.open=void 0!==e.open&&e.open,+e.id===+S&&(e.open=!e.open),e}),Object(b.a)({},e,{curriculum:_,currSecId:+S});case"SWITCH_LECTURE":var N=0,k=0,j={},I=[],H=(Array.isArray(e.curriculum)?e.curriculum:[]).map(function(a,r){return(a=Object(b.a)({},a)).current=!1,a.s_lectures=a.s_lectures.filter(function(t){return!("undefined"!==typeof e.lectureLog.log[+t.id]&&13===+t.cl_lecture_type)}),a.s_lectures=a.s_lectures.map(function(e,r){return(e=Object(b.a)({},e)).current=!1,"object"!==typeof j.nexLecture||j.nexLecture.id||(j.nexLecture=Object(b.a)({},e)),+t.payload.lectureId===+e.id&&(e.current=!0,a.current=!0,a.open=!0,N=+e.id,k=+a.id,(j=Object(b.a)({},e)).prevLecture=1,j.nexLecture={}),"object"!==typeof j.prevLecture&&(j.prevLecture="undefined"!==typeof I[I.length-1]?Object(b.a)({},I[I.length-1]):{}),I.push(e),e}),a});if(e.course.id){var T={},P="";try{T=(T=(T=localStorage.getItem("resume_id"))?JSON.parse(T):{})instanceof Object?T:{},P=JSON.parse(e.config.user_details).id}catch(q){T={}}T["cid_".concat(P,"_").concat(e.course.id)]=t.payload.lectureId,localStorage.setItem("resume_id",JSON.stringify(T))}return Object(b.a)({},e,{currLecture:Object(b.a)({},j),curriculum:H,currLecId:N,currSecId:k});case"UPDATE_PERCENTAGE":var C={},x=0,A=0,D=Object(b.a)({},e.lectureLog);D.update=!!D.update&&D.update;var U=e.curriculum.map(function(e,a){return(e=Object(b.a)({},e)).s_lectures=e.s_lectures.map(function(e,a){if(x++,C=Object(b.a)({},e),+t.payload.lectureId===+e.id){C.percentage=t.payload.percentage,C.cue=t.payload.cue,C.update=!1,C.views=C.views?C.views:0,C.percentage=C.percentage?C.percentage:0,t.payload.completed&&(C.views+=1,C.cue=0,C.update=!0),"undefined"===typeof D.log[+C.id]&&(D.log[+C.id]={});var r=+C.cl_limited_access>0&&C.views>+C.cl_limited_access?+C.cl_limited_access:C.views;D.log[+C.id].percentage=C.percentage,D.log[+C.id].views=r,D.log[+C.id].nviews=C.views,D.log[+C.id].cue=C.cue,D.log[+C.id].update=C.update,C.changes=!0}if(C.views>0)A+=100;else{var n=parseInt(C.percentage);A+=isNaN(n)?0:n}return Object(b.a)({},C)}),Object(b.a)({},e)});return A/=x,D.overall_percentage=A,D.update=D.update?D.update:t.payload.completed,Object(b.a)({},e,{curriculum:Object(z.a)(U),lectureLog:Object(b.a)({},D)});case"UPDATE_COMPLETE":for(var M in(D=Object(b.a)({},e.lectureLog)).update=!1,D.log)D.log[M].update=!1;return Object(b.a)({},e,{lectureLog:Object(b.a)({},D)});case"SET_OPACITY_CLASS":return Object(b.a)({},e,{opacityClass:t.payload});case g:return Object(b.a)({},e,{menuOpen:t.payload});case"SHOW_LIST":return Object(b.a)({},e,{showList:!e.showList});case"SET_CONFIG":return Object(b.a)({},e,{config:t.payload});case"SET_PREVIEW":return Object(b.a)({},e,{isPreview:!0});case"SET_PREVIEWTIME":var R=t.payload?t.payload:--e.previewTimer;return Object(b.a)({},e,{previewTimer:R});case"SET_PREVIEWENABLED":return Object(b.a)({},e,{previewEnabled:!0});case"SET_FULLSCREEN":return Object(b.a)({},e,{fullScreen:!e.fullScreen});case"SET_TOKEN":return Object(b.a)({},e,{token:t.payload});case"SET_MODALOPEN":return Object(b.a)({},e,{descModalOpen:t.payload});default:return e}};window.BUILD_DATE="2020_03_27";var ua=Object(ia.b)(la),da=n.a.createElement(w.a,{store:ua},n.a.createElement(ca,null));c.a.render(da,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},19:function(e,t,a){},25:function(e,t,a){e.exports=a.p+"static/media/expand.ec365817.svg"},26:function(e,t,a){e.exports=a.p+"static/media/minimize.296b236a.svg"},27:function(e,t,a){e.exports=a.p+"static/media/info.f0e2d70b.svg"},28:function(e,t,a){e.exports=a.p+"static/media/poster.dc04c36a.svg"},33:function(e,t,a){e.exports=a.p+"static/media/check.dee3512a.svg"},41:function(e,t,a){},46:function(e,t,a){e.exports=a.p+"static/media/baseline-lock-24px.6e97143e.svg"},53:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB0CAYAAABOpvapAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4JpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxRjYwMEY3ODFFOURFODExQTNERTk1QjFDMTREQTlDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBQUY3M0E1RjRBMEIxMUU5OTc4OEU0MkVGQTlBQzQzMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBQUY3M0E1RTRBMEIxMUU5OTc4OEU0MkVGQTlBQzQzMyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA3ZTVkNTFlLTAxZGYtNDg1ZC1hYmU4LTk3ZWEyNjRmNjFhNCIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmQ1MWRkYmFjLTRmMWMtMTE3Yy05MDQ4LWMw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"},54:function(e,t,a){e.exports=a.p+"static/media/certificate-icon.ba8bf677.jpg"},55:function(e,t){e.exports="data:image/png;base64,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"},58:function(e,t,a){e.exports=a(123)},63:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){}},[[58,2,1]]]);